<!DOCTYPE html>
<html>
    <head>
  <script type="text/javascript">
        function setVoice() {
            var vid = document.getElementById("voice");
            if(vid!=null){
            	vid.volume = 0.2;
            }
        }
        window.onload = setVoice;
        </script>
  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
	<script>
	  (adsbygoogle = window.adsbygoogle || []).push({
		google_ad_client: "ca-pub-0980023289791742",
		enable_page_level_ads: true
	  });
	</script>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>RestEasy İle Restful Web Servis Dersleri 7 – Query Param</title>
    <meta name="description" content="Merhabalar arkadaşlar. Bu yazıda bir başka parametre elde etme yöntemi olan QueryParam’ı inceleyeceğiz.">

    <link rel="stylesheet" href="/css/main.css">
    <link rel="canonical" href="http://ilkaygunel.com/blog/2016/query-param/">
    <link rel="alternate" type="application/rss+xml" title="İlkay Günel - Blog" href="http://ilkaygunel.com/feed.xml" />
      <!-- Begin Jekyll SEO tag v2.4.0 -->
<title>RestEasy İle Restful Web Servis Dersleri 7 – Query Param | İlkay Günel - Blog</title>
<meta name="generator" content="Jekyll v3.7.3" />
<meta property="og:title" content="RestEasy İle Restful Web Servis Dersleri 7 – Query Param" />
<meta name="author" content="İlkay Günel" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="RestEasy İle Restful Web Servis Dersleri 7 – Query Param" />
<meta property="og:description" content="RestEasy İle Restful Web Servis Dersleri 7 – Query Param" />
<link rel="canonical" href="http://ilkaygunel.com/blog/2016/query-param/" />
<meta property="og:url" content="http://ilkaygunel.com/blog/2016/query-param/" />
<meta property="og:site_name" content="İlkay Günel - Blog" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2016-09-09T19:38:20+03:00" />
<script type="application/ld+json">
{"description":"RestEasy İle Restful Web Servis Dersleri 7 – Query Param","author":{"@type":"Person","name":"İlkay Günel"},"@type":"BlogPosting","url":"http://ilkaygunel.com/blog/2016/query-param/","headline":"RestEasy İle Restful Web Servis Dersleri 7 – Query Param","dateModified":"2016-09-09T19:38:20+03:00","datePublished":"2016-09-09T19:38:20+03:00","mainEntityOfPage":{"@type":"WebPage","@id":"http://ilkaygunel.com/blog/2016/query-param/"},"@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->

  </head>

  <body>
    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-76541903-2', 'auto');
  ga('send', 'pageview');
</script>

    <main>
      <header class="site-header">
  <div class="container">
    <h1><a href="/">Ana Sayfa</a></h1>

    <button type="button" class="sliding-panel-button">
      <span></span>
      <span></span>
      <span></span>
    </button>

    <nav class="navbar sliding-panel-content">
      <ul>
        
          <li><a href="/ilkay-gunel-cv.pdf" title="Bana Ait CV">Bana Ait CV</a></li>
        
          <li><a href="/blog/2016/git-nedir" title="Git Nedir? Nasıl Kullanılır?">Git Nedir? Nasıl Kullanılır?</a></li>
        
          <li><a href="/blog/2017/angular-2-tutorials" title="Angular 2">Angular 2</a></li>
        
          <li><a href="/blog/2016/maven-tutorials" title="Maven">Maven</a></li>
        
          <li><a href="/blog/2016/jsf-tutorials-list" title="JSF">JSF</a></li>
        
          <li><a href="/blog/2016/spring-tutorials" title="Spring 4">Spring 4</a></li>
        
          <li><a href="/blog/2016/eclipselink" title="Eclipselink">Eclipselink</a></li>
        
          <li><a href="/blog/2016/resteasy/" title="Resteasy">Resteasy</a></li>
        
          <li><a href="/blog/2016/mongodb/" title="MongoDB&Java">MongoDB&Java</a></li>
        
          <li><a href="/blog/2016/test" title="Test">Test</a></li>
        
          <li><a href="/blog/2016/useful-libraries-for-java" title="Java İçin Faydalı Kütüphaneler">Java İçin Faydalı Kütüphaneler</a></li>
        
          <li><a href="/about" title="Hakkımda">Hakkımda</a></li>
        
          <li><a href="/blog/2016/eclipse-notes" title="Eclipse">Eclipse</a></li>
        
          <li><a href="/blog/2016/formula1/" title="Formula 1">Formula 1</a></li>
        
          <li><a href="/blog/2016/kitaplar" title="Kitaplar">Kitaplar</a></li>
        
          <li><a href="/blog/2017/filmler/" title="Filmler">Filmler</a></li>
        
          <li><a href="/blog" title="Blog">Blog</a></li>
        
        <li><a href="/feed.xml" target="_blank"><i class="icon icon-feed"></i></a></li>
        <li><a href="https://1000kitap.com/ilkaygunel">1000Kitap</a></li>
      </ul>
    </nav>
  </div>
</header>

<div class="sliding-panel-fade-screen"></div>


      <div class="container">
        <article role="article" class="post">

  <div class="card">
    <header class="post-header">
      <h1 class="post-title">RestEasy İle Restful Web Servis Dersleri 7 – Query Param</h1>
      <p class="post-meta">Sep 9, 2016</p>
    </header>

    <div class="post-content">
      <p>Merhabalar arkadaşlar. Bu yazıda bir başka parametre elde etme yöntemi olan QueryParam’ı inceleyeceğiz.</p>

<p>Şimdiye kadarki yazılarda hep biz bir path tanımlaması yaparak parametre aldık. Fakat QueryParam ile web servisin yoluna herhangi bir ekleme, tanımlama yapmadan parametre almamız mümkün hale geliyor.</p>

<p>RestEasy API Servlet’in üstüne kurulu olduğu ve onun en üst katmanında yer aldığı için URI query parametrelerini URL form encoded parametrelerden ayırmaz. PathParam’da olduğu gibi QueryParam’da da verilerimiz int,String, bir Sınıf vs. tipinde olabilir.</p>

<p>Şimdi örnek kullanıma bakalım.</p>

<p><strong>ApplicationConfig.java</strong></p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">package</span> <span class="n">com</span><span class="p">.</span><span class="n">mycompany</span><span class="p">.</span><span class="n">resteasytutorials</span><span class="p">;</span>

<span class="n">import</span> <span class="n">javax</span><span class="p">.</span><span class="n">ws</span><span class="p">.</span><span class="n">rs</span><span class="p">.</span><span class="n">ApplicationPath</span><span class="p">;</span>
<span class="n">import</span> <span class="n">javax</span><span class="p">.</span><span class="n">ws</span><span class="p">.</span><span class="n">rs</span><span class="p">.</span><span class="n">core</span><span class="p">.</span><span class="n">Application</span><span class="p">;</span>


<span class="p">@</span><span class="n">ApplicationPath</span><span class="p">(</span><span class="s2">"queryParamExample"</span><span class="p">)</span>
<span class="k">public</span> <span class="n">class</span> <span class="n">ApplicationConfig</span> <span class="n">extends</span> <span class="n">Application</span><span class="p">{</span>
    
<span class="p">}</span>
</code></pre></div></div>

<p>Web servisimiz için kök yolun <strong><em>queryParamExample</em></strong> olduğunu söyledik.</p>

<p><strong>QueryParamExample.java</strong></p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">package</span> <span class="n">com</span><span class="p">.</span><span class="n">mycompany</span><span class="p">.</span><span class="n">resteasytutorials</span><span class="p">;</span>

<span class="n">import</span> <span class="n">java</span><span class="p">.</span><span class="n">util</span><span class="p">.</span><span class="n">ArrayList</span><span class="p">;</span>
<span class="n">import</span> <span class="n">java</span><span class="p">.</span><span class="n">util</span><span class="p">.</span><span class="k">List</span><span class="p">;</span>
<span class="n">import</span> <span class="n">javax</span><span class="p">.</span><span class="n">ws</span><span class="p">.</span><span class="n">rs</span><span class="p">.</span><span class="n">GET</span><span class="p">;</span>
<span class="n">import</span> <span class="n">javax</span><span class="p">.</span><span class="n">ws</span><span class="p">.</span><span class="n">rs</span><span class="p">.</span><span class="n">Path</span><span class="p">;</span>
<span class="n">import</span> <span class="n">javax</span><span class="p">.</span><span class="n">ws</span><span class="p">.</span><span class="n">rs</span><span class="p">.</span><span class="n">Produces</span><span class="p">;</span>
<span class="n">import</span> <span class="n">javax</span><span class="p">.</span><span class="n">ws</span><span class="p">.</span><span class="n">rs</span><span class="p">.</span><span class="n">QueryParam</span><span class="p">;</span>
<span class="n">import</span> <span class="n">javax</span><span class="p">.</span><span class="n">ws</span><span class="p">.</span><span class="n">rs</span><span class="p">.</span><span class="n">core</span><span class="p">.</span><span class="n">MediaType</span><span class="p">;</span>

<span class="p">@</span><span class="n">Path</span><span class="p">(</span><span class="s2">"/getBooks"</span><span class="p">)</span>
<span class="k">public</span> <span class="n">class</span> <span class="n">QueryParamExample</span> <span class="p">{</span>
    <span class="p">@</span><span class="n">GET</span>
    <span class="k">public</span> <span class="k">String</span> <span class="n">getBook</span><span class="p">(@</span><span class="n">QueryParam</span><span class="p">(</span><span class="s2">"bookName"</span><span class="p">)</span> <span class="k">String</span> <span class="n">bookName</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">String</span> <span class="n">returnedBook</span><span class="p">=</span><span class="s2">""</span><span class="p">;</span>
        <span class="k">List</span><span class="p">&lt;</span><span class="k">String</span><span class="p">&gt;</span> <span class="n">books</span> <span class="p">=</span> <span class="n">new</span> <span class="n">ArrayList</span><span class="p">&lt;&gt;();</span>
        
        <span class="n">books</span><span class="p">.</span><span class="n">add</span><span class="p">(</span><span class="s2">"1984"</span><span class="p">);</span>
        <span class="n">books</span><span class="p">.</span><span class="n">add</span><span class="p">(</span><span class="s2">"Hayvan Çiftliği"</span><span class="p">);</span>
        <span class="n">books</span><span class="p">.</span><span class="n">add</span><span class="p">(</span><span class="s2">"Cesur Yeni Dünya"</span><span class="p">);</span>
        
        <span class="n">for</span><span class="p">(</span><span class="k">String</span> <span class="n">s</span> <span class="p">:</span> <span class="n">books</span><span class="p">)</span> <span class="p">{</span>
            <span class="k">if</span> <span class="p">(</span><span class="n">s</span><span class="p">.</span><span class="n">equals</span><span class="p">(</span><span class="n">bookName</span><span class="p">))</span> <span class="p">{</span>
                <span class="n">returnedBook</span> <span class="p">=</span> <span class="n">s</span><span class="p">;</span>
                <span class="k">break</span><span class="p">;</span>
            <span class="p">}</span>
        <span class="p">}</span>
        <span class="n">return</span> <span class="n">returnedBook</span><span class="p">;</span>
    <span class="p">}</span>           
<span class="p">}</span>
</code></pre></div></div>

<p>QueryParamExample sınıfımız içinde @GET notasyonu ile işaretlediğimiz ve sayfaya istekte bulunulduğunda çalışacak metodu görüyoruz. Bu metot QueryParam notasyonu ile tanımlanmış olan adres çubuğundan bookName ismi ile gönderilecek String tipindeki <strong><em>bookName</em></strong>* parametresini bekliyor. Metot içinde bir liste oluşturup eklemeler yapıyoruz ve QueryParam’dan gelen kitap ismini aratıp döndürüyoruz.</p>

<p><strong>Ekran Çıktısı</strong></p>

<p><a href="/images/query1.png">
 <img src="/images/query1.png" style="width: 958px; height= 400px;" /></a></p>

<p>QueryParam ile tanımlanmış bir parametreyi gönderebilmek için web servis yolunun bittiği yerde ? işareti kullanıp peşine parametrenin adını ve değerini yazıyoruz. Bizim parametremizin adın bookName idi ve gönderdiğimiz değer de Hayvan Çiftliği. Bu nedenle <strong><em>?bookName=Hayvan Çiftliği</em></strong> diyerek parametremizi gönderiyoruz. Resimdeki %20 ifadesi URL kodlamasından geliyor, ona takılmayın. Hayvan Çiftliği şeklinde girdiğinizde parametre doğru bir şekilde iletiliyor.</p>

<p>Ekran çıktısında gördüğümüz gibi bir Türkçe karakter sorunu ile kaşı karşıyayız. Nasıl çözeceğiz bunu? Tek satırlık bir kod eklemesi bu sorunun kolayca üstesinden geleceğiz.</p>

<p>QueryParamExample sınıfımız içinde @GET notasyonunun hemen altına şu satırı ekleyelim.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>@Produces(MediaType.TEXT_HTML+";charset=UTF-8")
</code></pre></div></div>

<p>Kod içinde şimdiye kadarki yazılardan farklı olarak @Produces notasyonunu kullanmamıştık. Fakat biz kullansak kullanmasak da arka planda bu notasyon çalışır ve varsayılan olarak TEXT_HTML tipinde veri üretir. Biz bu notasyonu kullanıp <strong><em>MediaType.APPLICATION_JSON</em></strong> ya da <strong><em>“application/json”</em></strong> ataması yaptığımızda sadece verilecek çıktının tipini değiştirmiş oluyoruz aslında.</p>

<p>Burada varsayılan çıktı olan TEXT_HTML’in karakter kodlmasını UTF-8’e dönüştürmek ve Türkçe karakterle sorun vermemesini sağlamak için MediaType.TEXT_HTML ifadesinin yanına <strong><em>“;charset=UTF-8”</em></strong> String’ini ekledik. Bunu web servis apisi bu web servisin karakter kodlamasını değiştiriyor ve UTF-8 yapıyor.</p>

<p>Şimdi ekran çıktısına bir kez daha bakalım.</p>

<p><a href="/images/query2.png">
 <img src="/images/query2.png" style="width: 958px; height= 400px;" /></a></p>

<p>Türkçe karakter sorunu başarı ile çözüldü :)</p>

<p>Bu yazıda da bu kadar arkadaşlar. QueryParam’ı ve Türkçe karakter sorununun çözümünü görmüş olduk. Gelecek yazıda görüşene kadar sağlıcakla kalın.</p>

    </div>

    
<hr>

<aside id="comments" class="disqus">
  <div class="container">
    <h3><i class="icon icon-comments-o"></i> Comments</h3>
    <div id="disqus_thread"></div>
<script>

/**
 *  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
 *  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables */
/*
var disqus_config = function () {
    this.page.url = PAGE_URL;  // Replace PAGE_URL with your page's canonical URL variable
    this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
};
*/
(function() { // DON'T EDIT BELOW THIS LINE
    var d = document, s = d.createElement('script');
    s.src = '//ilkaygunel-com.disqus.com/embed.js';
    s.setAttribute('data-timestamp', +new Date());
    (d.head || d.body).appendChild(s);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>                                    
  </div>
</aside>

  </div>

</article>

      </div>

      <footer class="site-footer">
  <div class="container">
    <ul class="social">
  <li><a href="https://www.instagram.com/ilkay_gunel/" target="_blank"><img src="/images/instagram.png" style="width: 24px;height: 24px;"></img></a></li>
  <li><a href="https://www.facebook.com/ilkay.gunel" target="_blank"><img src="/images/facebook.png" style="width: 24px;height: 24px;"></img></a></li>
  <li><a href="https://www.youtube.com/c/ilkaygunel" target="_blank"><img src="/images/youtube.png" style="width: 24px;height: 24px;"></img></a></li>
  <li><a href="http://twitter.com/ilkaygunel" target="_blank"><img src="/images/twitter.png" style="width: 24px;height: 24px;"></img></a></li>
  <li><a href="http://github.com/ilkgunel" target="_blank"><img src="/images/github.jpg" style="width: 24px;height: 24px;"></img></a></li>
  <li><a href="http://linkedin.com/in/ilkaygunel" target="_blank"><img src="/images/linkedin.png" style="width: 24px;height: 24px;"></img></a></li>
  
</ul>
    <p class="txt-medium-gray">
      <small>&copy;2018 All rights reserved. Made with <a href="http://jekyllrb.com/" target="_blank">Jekyll</a> and ♥</small>
    </p>
  </div>
</footer>


      <a href="http://github.com/ilkgunel/ilkgunel.github.io" target="_blank" class="github-corner"><svg width="80" height="80" viewBox="0 0 250 250" style="fill:#337ab7; color:#fff; position: absolute; top: 0; border: 0; right: 0;"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a>

      <script src="//code.jquery.com/jquery-1.11.3.min.js"></script>
      <script>
      $(document).ready(function() {
        $('.sliding-panel-button,.sliding-panel-fade-screen,.sliding-panel-close').on('click touchstart',function (e) {
          $('.sliding-panel-content,.sliding-panel-fade-screen').toggleClass('is-visible');
          e.preventDefault();
        });
      });
      </script>
    </main>
  </body>
</html>
