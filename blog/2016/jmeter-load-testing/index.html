<!DOCTYPE html>
<html>
    <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Apache JMeter İle Yük Testi Yapalım</title>
    <meta name="description" content="Oluşturulan yazılımların test edilmesindeki alanlardan birisi de ilgili yazılıma yük testi uygulamaktır. Yük testinden kastedilen ise bu yazılım canlı ortama...">

    <link rel="stylesheet" href="/css/main.css">
    <link rel="canonical" href="http://ilkaygunel.com/blog/2016/jmeter-load-testing/">
    <link rel="alternate" type="application/rss+xml" title="İlkay Günel - Blog" href="http://ilkaygunel.com/feed.xml" />
      <!-- Begin Jekyll SEO tag v2.0.0 -->
<title>Apache JMeter İle Yük Testi Yapalım - İlkay Günel - Blog</title>
<meta property="og:title" content="Apache JMeter İle Yük Testi Yapalım" />
<meta name="description" content="Apache JMeter İle Yük Testi Yapalım" />
<meta property="og:description" content="Apache JMeter İle Yük Testi Yapalım" />
<link rel="canonical" href="http://ilkaygunel.com/blog/2016/jmeter-load-testing/" />
<meta property="og:url" content="http://ilkaygunel.com/blog/2016/jmeter-load-testing/" />
<meta property="og:site_name" content="İlkay Günel - Blog" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2016-09-17T19:38:20+03:00" />
<script type="application/ld+json">
  {
    "@context": "http://schema.org",
    "@type": "BlogPosting",
    "headline": "Apache JMeter İle Yük Testi Yapalım",
    "datePublished": "2016-09-17T19:38:20+03:00",
    "description": "Apache JMeter İle Yük Testi Yapalım",
    "url": "http://ilkaygunel.com/blog/2016/jmeter-load-testing/"
  }
</script>
<!-- End Jekyll SEO tag -->
  </head>

  <body>
    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-76541903-2', 'auto');
  ga('send', 'pageview');
</script>

    <main>
      <header class="site-header">
  <div class="container">
    <h1><a href="/">Ana Sayfa</a></h1>

    <button type="button" class="sliding-panel-button">
      <span></span>
      <span></span>
      <span></span>
    </button>

    <nav class="navbar sliding-panel-content">
      <ul>
        
          <li><a href="/cv.pdf" title="Bana Ait CV">Bana Ait CV</a></li>
        
          <li><a href="/blog/2016/git-nedir" title="Git Nedir? Nasıl Kullanılır?">Git Nedir? Nasıl Kullanılır?</a></li>
        
          <li><a href="/blog/2016/jsf-tutorials-list" title="JSF">JSF</a></li>
        
          <li><a href="/blog/2016/spring-tutorials" title="Spring 4">Spring 4</a></li>
        
          <li><a href="/blog/2016/eclipselink" title="Eclipselink">Eclipselink</a></li>
        
          <li><a href="/blog/2016/resteasy/" title="Resteasy">Resteasy</a></li>
        
          <li><a href="/blog/2016/mongodb/" title="MongoDB&Java">MongoDB&Java</a></li>
        
          <li><a href="/blog/2016/test" title="Test">Test</a></li>
        
          <li><a href="/blog/2016/useful-libraries-for-java" title="Java İçin Faydalı Kütüphaneler">Java İçin Faydalı Kütüphaneler</a></li>
        
          <li><a href="/about" title="Hakkımda">Hakkımda</a></li>
        
          <li><a href="/blog/2016/eclipse-notes" title="Eclipse">Eclipse</a></li>
        
          <li><a href="/blog/2016/formula1/" title="Formula 1">Formula 1</a></li>
        
          <li><a href="/blog/2016/kitaplar" title="Kitaplar">Kitaplar</a></li>
        
          <li><a href="/blog" title="Blog">Blog</a></li>
        
        <li><a href="/feed.xml" target="_blank"><i class="icon icon-feed"></i></a></li>
      </ul>
    </nav>
  </div>
</header>

<div class="sliding-panel-fade-screen"></div>


      <div class="container">
        <article role="article" class="post">

  <div class="card">
    <header class="post-header">
      <h1 class="post-title">Apache JMeter İle Yük Testi Yapalım</h1>
      <p class="post-meta">Sep 17, 2016</p>
    </header>

    <div class="post-content">
      <p>Oluşturulan yazılımların test edilmesindeki alanlardan birisi de ilgili yazılıma yük testi uygulamaktır. Yük testinden kastedilen ise bu yazılım canlı ortama geçtiğinde en fazla ne kadar istek kaldırabilir
, amaçlanan request sayısını kaldırabiliyor mu yoksa server çöküyor mu gibi sorulara cevap bulmaktır.</p>

<p>Biz de bu yazıda temel seviyede bir yük testinin <strong><em>Apache Jmeter</em></strong> ile nasıl yapıldığına değineceğiz.</p>

<p><strong>Apache Jmeter Nedir?</strong></p>

<p>Apache JMeter Apache tarafından ücretsiz bir şekilde sunulan, web sitelerini, servisleri, performans ölçümlerini vs. yapmaya yarayan ve bunları grafiğe dökebilen bir yazılımdır.
JMeter başlangıçta Apache Tomcat sunucusunun performans ölçümü için geliştirilirken sonraları bu proje açık kaynak haline getirilip bizlere sunulmuştur.</p>

<p><strong>Hazırlık Aşaması</strong></p>

<p>Öncelikle Apache JMeter’ın çalışması için sisteminizde Java SE 7 ve üzerinin kurulu olması gerekmektedir.</p>

<p><a href="http://jmeter.apache.org/download_jmeter.cgi">http://jmeter.apache.org/download_jmeter.cgi</a> adresinden tgz ya da zip uzantılı dosyalardan birini indirin ve indrdiğiniz sıkıştırılmış dosyayı bir klasöre açın.</p>

<p>Akabinde terminal ya da cmd’yi açıp az önce klasöre çıkarttığınız yere gidin. O klasör içindeki <strong><em>bin</em></strong> klasörüne girin.</p>

<p>Ben OS X üzerinde bu testi anlatıyor olacağım. Bu nedenle ben bin klasörü içindeki <strong><em>jmeter.sh</em></strong> dosyasını çalıştıracağım. Windows’da ise .bat uzantılı dosyanın çalıştırılması gerekiyor.</p>

<p><a href="/images/jmeter/jmeter1.png">
 <img src="/images/jmeter/jmeter1.png" style="width: 958px; height= 400px;" /></a></p>

<p>Bu komutun akabinde JMeter çalışacak karşımıza şöyle bir ekran gelecek:</p>

<p><a href="/images/jmeter/jmeter2.png">
  <img src="/images/jmeter/jmeter2.png" style="width: 958px; height= 400px;" /></a></p>

<p><strong>Uygulama Örneği</strong></p>

<p>Şimdi biz de JMeter ile örnek bir yük testi uygulaması yapalım.</p>

<p>İlk olarak Test Plan’a sağ tıklayalım ve Add -&gt; Threads (Users) -&gt; Thread Group yolundan sistemi test edecek kullanıcı sayısı için ekleme yapalım.</p>

<p><a href="/images/jmeter/jmeter3.png">
  <img src="/images/jmeter/jmeter3.png" style="width: 958px; height= 400px;" /></a></p>

<p>Gelen ekrandaki input’ları şöyle dolduralım:</p>

<p><a href="/images/jmeter/jmeter4.png">
<img src="/images/jmeter/jmeter4.png" style="width: 958px; height= 400px;" /></a></p>

<ul>
  <li>Ekrandaki <strong><em>Number Of Threads</em></strong> alanı kaç kullanıcı ile bu ilgili yazılıma yük testi uygulamak istediğinizi belirtir. Biz şimdilik 10 kullanıcı ile test yapalım.</li>
  <li>Ram-Up Period alanı Number Of Threads alanında verilen kullanıcı sayısına kaç saniyede çıkılacağını belirtir. Biz 5 saniye dedik. Bu da 10/5 = 2’den her 5 saniyede bir sisteme 2 kullanıcının dahil edilmesi ve 5 saniye sonunda 10 kullanıcının sistem olmuş olmasını sağlar.</li>
  <li>Loop Count alanı ise bu testin kaç kez tekrarlanacağını belirtir. Eğer <strong><em>forever</em></strong> dersek biz durdurana kadar testi devam ettirir. Ben loop count’a 2 dedim ve bu test 2 defa yapılacak.</li>
</ul>

<p>Şimdi yük testi uygulayacağımız yazılım için tanımlama yapacağız. Thread Group’a sağ tıklayalım Add -&gt; Sampler -&gt; HttpRequest yolundan bir HttpRequest ekleyelim.</p>

<p><a href="/images/jmeter/jmeter5.png">
<img src="/images/jmeter/jmeter5.png" style="width: 958px; height= 400px;" /></a></p>

<ul>
  <li>Ekranda <strong><em>Server Name or IP</em></strong> alanına test yapacağımız web sitesinin IP ya da domain name bilgisini yazıyoruz.</li>
  <li>Port kısmına hangi port üzerinden erişeceğimizi yazıyoruz. 80 portu üzerinden erişeceğiz.</li>
  <li>Method alanını da GET olarak bırakıyoruz.</li>
</ul>

<p><a href="/images/jmeter/jmeter6.png">
<img src="/images/jmeter/jmeter6.png" style="width: 958px; height= 400px;" /></a></p>

<p>Şimdi de test sonuçlarını izleyebilmek için eklemeler yapalım.</p>

<p>Yine Thread Group’a sap tıklayıp Add -&gt; Listener kısmından <strong><em>Response Time Graph</em></strong>, <strong><em>View Results in Table</em></strong>, <strong><em>View Results Tree</em></strong> alanlarını ekleyelim.</p>

<p>Bu eklemelerin ardından üst ortadaki yeşil <strong>Start</strong> butonu ile testimizi başlatalım.</p>

<p>View Results In Table sekmesine baktığımda tüm testlerin başarı ile sonuçlandığını görüyorum. Demek ki test yaptığımız web sitesi ilgili şartları, yükü kaldırabiliyor.</p>

<p><a href="/images/jmeter/jmeter7.png">
<img src="/images/jmeter/jmeter7.png" style="width: 958px; height= 400px;" /></a></p>

<p>Şimdi testimizi biraz daha büyütelim arkadaşlar. HTTP Request’ten Server Name or IP kısmını kod5.org olarak değiştirelim. Thread Group’a dönelim, Number of Threads’i 500 yapalım ve Ram-Up Period’u 20 yapalım. Loop count aynı kalsın. Bu bizim 1000 kullanıcı ile test yapacağımız anlamına gelir. Akabinde testi tekrar çalıştıralım.</p>

<p><a href="/images/jmeter/jmeter8.png">
<img src="/images/jmeter/jmeter8.png" style="width: 958px; height= 400px;" /></a></p>

<p>Uyguladığımız yük testi gördüğünüz gibi birçok başarısızlıkla sonuçlandı. Şimdi user sayısını biraz düşürelim ve 100 yapalım. Ram-up periodu da 10 yapalım.</p>

<p><a href="/images/jmeter/jmeter9.png">
<img src="/images/jmeter/jmeter9.png" style="width: 958px; height= 400px;" /></a></p>

<p>Testin çoğunluğu yine başarısızlıkla sonuçlandı arkadaşlar. Yani kod5.org bu yükü de tam olarak kaldırabilecek seviyede değil demek ki.</p>

<p>Şimdi kullanıcı sayısını 50’ye çekelim ve testi yeniden çalıştıralım.</p>

<p><a href="/images/jmeter/jmeter10.png">
<img src="/images/jmeter/jmeter10.png" style="width: 958px; height= 400px;" /></a></p>

<p>Son olarak loop count’u 1 yapıp testi tekrar çalıştıralım.</p>

<p><a href="/images/jmeter/jmeter11.png">
<img src="/images/jmeter/jmeter11.png" style="width: 958px; height= 400px;" /></a></p>

<p>Gördüğünüz gibi hala sorunlar var.</p>

<p>Ben user sayısını 25 yaptığımda testler sorunsuz tamamlandı arkadaşlar. 25’in üzeri için kod5.org yük testi bakımından sorunlu olmaya başlıyor.</p>

<p>Bu yazıda basitçe JMeter ile yük testini anlatmaya çalıştım arkadaşlar. Başka yazıda görüşene kadar sağlıcakla kalın.</p>

<p style="text-align: center">Selam ve Sevgilerimle</p>

    </div>

    
<hr>

<aside id="comments" class="disqus">
  <div class="container">
    <h3><i class="icon icon-comments-o"></i> Comments</h3>
    <div id="disqus_thread"></div>
<script>

/**
 *  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
 *  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables */
/*
var disqus_config = function () {
    this.page.url = PAGE_URL;  // Replace PAGE_URL with your page's canonical URL variable
    this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
};
*/
(function() { // DON'T EDIT BELOW THIS LINE
    var d = document, s = d.createElement('script');
    s.src = '//ilkaygunel-com.disqus.com/embed.js';
    s.setAttribute('data-timestamp', +new Date());
    (d.head || d.body).appendChild(s);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>                                    
  </div>
</aside>

  </div>

</article>

      </div>

      <footer class="site-footer">
  <div class="container">
    <ul class="social">
  <li><a href="http://github.com/ilkgunel" target="_blank"><i class="icon icon-github"></i></a></li>
  <li><a href="http://twitter.com/ilkgunel" target="_blank"><i class="icon icon-twitter"></i></a></li>
  <li><a href="https://www.facebook.com/ilkay.gunel" target="_blank"><i class="icon icon-facebook"></i></a></li>
  <li><a href="http://linkedin.com/in/ilkaygunel" target="_blank"><i class="icon icon-linkedin"></i></a></li>
  <li><a href="https://www.instagram.com/first.month/" target="_blank"><img src="/images/instagram.png" style="width: 24px;height: 24px;"></img></a></li>
</ul>
    <p class="txt-medium-gray">
      <small>&copy;2017 All rights reserved. Made with <a href="http://jekyllrb.com/" target="_blank">Jekyll</a> and ♥</small>
    </p>
  </div>
</footer>


      <a href="http://github.com/ilkgune/ilkgunel.github.io" target="_blank" class="github-corner"><svg width="80" height="80" viewBox="0 0 250 250" style="fill:#337ab7; color:#fff; position: absolute; top: 0; border: 0; right: 0;"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a>

      <script src="//code.jquery.com/jquery-1.11.3.min.js"></script>
      <script>
      $(document).ready(function() {
        $('.sliding-panel-button,.sliding-panel-fade-screen,.sliding-panel-close').on('click touchstart',function (e) {
          $('.sliding-panel-content,.sliding-panel-fade-screen').toggleClass('is-visible');
          e.preventDefault();
        });
      });
      </script>
    </main>
  </body>
</html>
