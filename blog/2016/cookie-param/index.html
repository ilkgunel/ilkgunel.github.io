<!DOCTYPE html>
<html>
    <head>
  <script type="text/javascript">
        function setVoice() {
            var vid = document.getElementById("voice");
            if(vid!=null){
            	vid.volume = 0.2;
            }
        }
        window.onload = setVoice;
        </script>
  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
	<script>
	  (adsbygoogle = window.adsbygoogle || []).push({
		google_ad_client: "ca-pub-0980023289791742",
		enable_page_level_ads: true
	  });
	</script>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>RestEasy İle Restful Web Servis Dersleri 10 – CookieParam</title>
    <meta name="description" content="Merhabalar arkadaşlar. Bu yazıda bir başka parametre edinme yöntemi olan CookieParam’ı öğreneceğiz.">

    <link rel="stylesheet" href="/css/main.css">
    <link rel="canonical" href="http://localhost:4000/blog/2016/cookie-param/">
    <link rel="alternate" type="application/rss+xml" title="İlkay Günel - Blog" href="http://localhost:4000/feed.xml" />
      <!-- Begin Jekyll SEO tag v2.4.0 -->
<title>RestEasy İle Restful Web Servis Dersleri 10 – CookieParam | İlkay Günel - Blog</title>
<meta name="generator" content="Jekyll v3.6.2" />
<meta property="og:title" content="RestEasy İle Restful Web Servis Dersleri 10 – CookieParam" />
<meta name="author" content="İlkay Günel" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="RestEasy İle Restful Web Servis Dersleri 10 – CookieParam" />
<meta property="og:description" content="RestEasy İle Restful Web Servis Dersleri 10 – CookieParam" />
<link rel="canonical" href="http://localhost:4000/blog/2016/cookie-param/" />
<meta property="og:url" content="http://localhost:4000/blog/2016/cookie-param/" />
<meta property="og:site_name" content="İlkay Günel - Blog" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2016-10-02T19:38:20+03:00" />
<script type="application/ld+json">
{"description":"RestEasy İle Restful Web Servis Dersleri 10 – CookieParam","author":{"@type":"Person","name":"İlkay Günel"},"@type":"BlogPosting","url":"http://localhost:4000/blog/2016/cookie-param/","headline":"RestEasy İle Restful Web Servis Dersleri 10 – CookieParam","dateModified":"2016-10-02T19:38:20+03:00","datePublished":"2016-10-02T19:38:20+03:00","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/blog/2016/cookie-param/"},"@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->

  </head>

  <body>
    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-76541903-2', 'auto');
  ga('send', 'pageview');
</script>

    <main>
      <header class="site-header">
  <div class="container">
    <h1><a href="/">Ana Sayfa</a></h1>

    <button type="button" class="sliding-panel-button">
      <span></span>
      <span></span>
      <span></span>
    </button>

    <nav class="navbar sliding-panel-content">
      <ul>
        
          <li><a href="/ilkay-gunel-cv.pdf" title="Bana Ait CV">Bana Ait CV</a></li>
        
          <li><a href="/blog/2016/git-nedir" title="Git Nedir? Nasıl Kullanılır?">Git Nedir? Nasıl Kullanılır?</a></li>
        
          <li><a href="/blog/2017/angular-2-tutorials" title="Angular 2">Angular 2</a></li>
        
          <li><a href="/blog/2016/maven-tutorials" title="Maven">Maven</a></li>
        
          <li><a href="/blog/2016/jsf-tutorials-list" title="JSF">JSF</a></li>
        
          <li><a href="/blog/2016/spring-tutorials" title="Spring 4">Spring 4</a></li>
        
          <li><a href="/blog/2016/eclipselink" title="Eclipselink">Eclipselink</a></li>
        
          <li><a href="/blog/2016/resteasy/" title="Resteasy">Resteasy</a></li>
        
          <li><a href="/blog/2016/mongodb/" title="MongoDB&Java">MongoDB&Java</a></li>
        
          <li><a href="/blog/2016/test" title="Test">Test</a></li>
        
          <li><a href="/blog/2016/useful-libraries-for-java" title="Java İçin Faydalı Kütüphaneler">Java İçin Faydalı Kütüphaneler</a></li>
        
          <li><a href="/about" title="Hakkımda">Hakkımda</a></li>
        
          <li><a href="/blog/2016/eclipse-notes" title="Eclipse">Eclipse</a></li>
        
          <li><a href="/blog/2016/formula1/" title="Formula 1">Formula 1</a></li>
        
          <li><a href="/blog/2016/kitaplar" title="Kitaplar">Kitaplar</a></li>
        
          <li><a href="/blog" title="Blog">Blog</a></li>
        
        <li><a href="/feed.xml" target="_blank"><i class="icon icon-feed"></i></a></li>
        <li><a href="https://1000kitap.com/ilkaygunel">1000Kitap</a></li>
      </ul>
    </nav>
  </div>
</header>

<div class="sliding-panel-fade-screen"></div>


      <div class="container">
        <article role="article" class="post">

  <div class="card">
    <header class="post-header">
      <h1 class="post-title">RestEasy İle Restful Web Servis Dersleri 10 – CookieParam</h1>
      <p class="post-meta">Oct 2, 2016</p>
    </header>

    <div class="post-content">
      <p>Merhabalar arkadaşlar. Bu yazıda bir başka parametre edinme yöntemi olan CookieParam’ı öğreneceğiz.</p>

<p>Bildiğiniz gibi ziyaret ettiğimiz web siteleri ikinci kez siteyi ziyaret ettiğimizde aynı içeriği tutabiliyor ve sunabiliyor olmak için cookilerden faydalanırlar. Web servisler içerisinde de uygulamanız cookie koyup sonradan bu cookiye erişmek zorunda kalabilir. İşte bu durum için CookieParam notasyonu üretilmiş ve parametreye Cookie ismini vererek rahatça kullanıyoruz.</p>

<p>Şimdi öncelikle bir Servlet kodu ile tarayıcımıza cookie ekleme işini yapalım. Tarayıcımız içinde varolan cookileri güvenlik gerekçesi ile kullanamayız ve bizim domainimiz localhost olduğu için localhost’a ait cookiler ile çalışabiliriz.</p>

<p><strong>AddCookie.java</strong></p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cm">/*
 * To change this license header, choose License Headers in Project Properties.
 * To change this template file, choose Tools | Templates
 * and open the template in the editor.
 */</span>
<span class="kn">package</span> <span class="n">restService</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">java.io.IOException</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.io.PrintWriter</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.servlet.ServletException</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.servlet.annotation.WebServlet</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.servlet.http.Cookie</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.servlet.http.HttpServlet</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.servlet.http.HttpServletRequest</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.servlet.http.HttpServletResponse</span><span class="o">;</span>

<span class="cm">/**
 *
 * @author ilkaygunel
 */</span>
<span class="nd">@WebServlet</span><span class="o">(</span><span class="n">name</span> <span class="o">=</span> <span class="s">"AddCookie"</span><span class="o">,</span> <span class="n">urlPatterns</span> <span class="o">=</span> <span class="o">{</span><span class="s">"/AddCookie"</span><span class="o">})</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">AddCookie</span> <span class="kd">extends</span> <span class="n">HttpServlet</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">doGet</span><span class="o">(</span><span class="n">HttpServletRequest</span> <span class="n">request</span><span class="o">,</span>
                    <span class="n">HttpServletResponse</span> <span class="n">response</span><span class="o">)</span>
            <span class="kd">throws</span> <span class="n">ServletException</span><span class="o">,</span> <span class="n">IOException</span>
  <span class="o">{</span>
      <span class="c1">// Create cookies for first and last names.      </span>
      <span class="n">Cookie</span> <span class="n">firstName</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Cookie</span><span class="o">(</span><span class="s">"first_name"</span><span class="o">,</span><span class="s">"ilkay"</span><span class="o">);</span>
      <span class="n">Cookie</span> <span class="n">lastName</span> <span class="o">=</span> <span class="k">new</span> <span class="n">Cookie</span><span class="o">(</span><span class="s">"last_name"</span><span class="o">,</span><span class="s">"günel"</span><span class="o">);</span>

      <span class="c1">// Set expiry date after 24 Hrs for both the cookies.</span>
      <span class="n">firstName</span><span class="o">.</span><span class="na">setMaxAge</span><span class="o">(</span><span class="mi">60</span><span class="o">*</span><span class="mi">60</span><span class="o">*</span><span class="mi">24</span><span class="o">);</span> 
      <span class="n">lastName</span><span class="o">.</span><span class="na">setMaxAge</span><span class="o">(</span><span class="mi">60</span><span class="o">*</span><span class="mi">60</span><span class="o">*</span><span class="mi">24</span><span class="o">);</span> 

      <span class="c1">// Add both the cookies in the response header.</span>
      <span class="n">response</span><span class="o">.</span><span class="na">addCookie</span><span class="o">(</span> <span class="n">firstName</span> <span class="o">);</span>
      <span class="n">response</span><span class="o">.</span><span class="na">addCookie</span><span class="o">(</span> <span class="n">lastName</span> <span class="o">);</span>

      <span class="c1">// Set response content type</span>
      <span class="n">response</span><span class="o">.</span><span class="na">setContentType</span><span class="o">(</span><span class="s">"text/html"</span><span class="o">);</span>

  <span class="o">}</span>
<span class="o">}</span>
<span class="c1">//Kaynak:http://www.tutorialspoint.com/servlets/servlets-cookies-handling.htm</span>
</code></pre></div></div>

<p>Bu kod Servlet bilenler için çok kolay ama bilmeyenler için şöyle söyleyelim, Servlet kütüphanesi içerisinde yer alan Cookie sınıfından iki adet Cookie nesnesi oluşturuluyor, bu cookie’lere setMaxAge ile ne kadar süre yaşayacağı söyleniyor ve döndürülen response’a cookiler’in koyulması ile tarayıcıya ilgili çerezler koyulmuş oluyor.</p>

<p>Bu kodun çalışabilmesi için projenizin Servlet Api kütüphanesine sahip olması gerekiyor. Eğer kütüphane yoksa şu bağımlılık ile edinebilirsiniz:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span class="nt">&lt;dependency&gt;</span>
    <span class="nt">&lt;groupId&gt;</span>javax.servlet<span class="nt">&lt;/groupId&gt;</span>
    <span class="nt">&lt;artifactId&gt;</span>javax.servlet-api<span class="nt">&lt;/artifactId&gt;</span>
    <span class="nt">&lt;version&gt;</span>3.1.0<span class="nt">&lt;/version&gt;</span>
<span class="nt">&lt;/dependency&gt;</span>
</code></pre></div></div>

<p>Servlet’i çalıştırıp Chrome’un çerezleri arasına baktığımda localhost’ta <strong><em>fist_name</em></strong> ve <strong><em>last_name</em></strong> çerezlerinin eklenmiş olduğunu görüyorum.</p>

<p><a href="/images/cookieparam1.png">
<img src="/images/cookieparam1.png" style="width: 958px; height= 400px;" />
</a></p>

<p>Şimdi bizim işimizi yapacak olan web servis koduna bakalım.</p>

<p><strong>CookieParamExample.java</strong></p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">package</span> <span class="n">restService</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">javax.ws.rs.CookieParam</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.ws.rs.GET</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.ws.rs.Path</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.ws.rs.Produces</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.ws.rs.core.Cookie</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">javax.ws.rs.core.MediaType</span><span class="o">;</span>

<span class="cm">/**
 *
 * @author ilkaygunel
 */</span>
<span class="nd">@Path</span><span class="o">(</span><span class="s">"/cookieParamExample"</span><span class="o">)</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">CookieParamExample</span> <span class="o">{</span>
    <span class="nd">@GET</span>
    <span class="nd">@Produces</span><span class="o">(</span><span class="n">MediaType</span><span class="o">.</span><span class="na">TEXT_HTML</span><span class="o">+</span><span class="s">";charset=UTF-8"</span><span class="o">)</span>
    <span class="kd">public</span> <span class="n">String</span> <span class="nf">getCookie</span><span class="o">(</span><span class="nd">@CookieParam</span><span class="o">(</span><span class="s">"first_name"</span><span class="o">)</span> <span class="n">Cookie</span> <span class="n">firstName</span><span class="o">,</span>
							<span class="nd">@CookieParam</span><span class="o">(</span><span class="s">"last_name"</span><span class="o">)</span> <span class="n">Cookie</span> <span class="n">lastName</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">return</span> <span class="s">"Ad Soyad:"</span><span class="o">+</span><span class="n">firstName</span><span class="o">.</span><span class="na">getValue</span><span class="o">()+</span><span class="s">" "</span><span class="o">+</span><span class="n">lastName</span><span class="o">.</span><span class="na">getValue</span><span class="o">();</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<p>Kodumuz oldukça basit arkadaşlar. Tek yaptığı iş first_name ve last_name cookie’lerini <strong><em>@CookieParam</em></strong> notasyonu ile metoda paramete olarak geçirmek. @CookieParam notasyonuna tarayıcıda tutulan cookie’nin adını veriyoruz arkadaşlar. O da o domaine ait olan o isimdeki cookie’yi bulup getiriyor. Burada parametrelerimizi javax.ws.rs.Cookie tipinde tanımladık ve metot içinde bu tipin metotundan faydalandık.</p>

<p><strong>Ekran Çıktısı</strong></p>

<p><a href="/images/cookieparam2.png">
<img src="/images/cookieparam2.png" style="width: 958px; height= 400px;" />
</a></p>

<p>Çıktıda gördüğümüz gibi firs_name ve last_name cookie bilgileri başarı ile alındı ve ekrana yazdırıldı.</p>

<p>Bu yazıda da bu kadar arkadaşlar. Gelecek yazıda görüşene kadar sağlıcakla kalın arkadaşlar.</p>

<p style="text-align: center">Selam ve Sevgilerimle</p>

    </div>

    
<hr>

<aside id="comments" class="disqus">
  <div class="container">
    <h3><i class="icon icon-comments-o"></i> Comments</h3>
    <div id="disqus_thread"></div>
<script>

/**
 *  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
 *  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables */
/*
var disqus_config = function () {
    this.page.url = PAGE_URL;  // Replace PAGE_URL with your page's canonical URL variable
    this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
};
*/
(function() { // DON'T EDIT BELOW THIS LINE
    var d = document, s = d.createElement('script');
    s.src = '//ilkaygunel-com.disqus.com/embed.js';
    s.setAttribute('data-timestamp', +new Date());
    (d.head || d.body).appendChild(s);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>                                    
  </div>
</aside>

  </div>

</article>

      </div>

      <footer class="site-footer">
  <div class="container">
    <ul class="social">
  <li><a href="https://www.instagram.com/ilkay_gunel/" target="_blank"><img src="/images/instagram.png" style="width: 24px;height: 24px;"></img></a></li>
  <li><a href="https://www.facebook.com/ilkay.gunel" target="_blank"><img src="/images/facebook.png" style="width: 24px;height: 24px;"></img></a></li>
  <li><a href="https://www.youtube.com/c/ilkaygunel" target="_blank"><img src="/images/youtube.png" style="width: 24px;height: 24px;"></img></a></li>
  <li><a href="http://twitter.com/ilkaygunel" target="_blank"><img src="/images/twitter.png" style="width: 24px;height: 24px;"></img></a></li>
  <li><a href="http://github.com/ilkgunel" target="_blank"><img src="/images/github.jpg" style="width: 24px;height: 24px;"></img></a></li>
  <li><a href="http://linkedin.com/in/ilkaygunel" target="_blank"><img src="/images/linkedin.png" style="width: 24px;height: 24px;"></img></a></li>
  
</ul>
    <p class="txt-medium-gray">
      <small>&copy;2018 All rights reserved. Made with <a href="http://jekyllrb.com/" target="_blank">Jekyll</a> and ♥</small>
    </p>
  </div>
</footer>


      <a href="http://github.com/ilkgunel/ilkgunel.github.io" target="_blank" class="github-corner"><svg width="80" height="80" viewBox="0 0 250 250" style="fill:#337ab7; color:#fff; position: absolute; top: 0; border: 0; right: 0;"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a>

      <script src="//code.jquery.com/jquery-1.11.3.min.js"></script>
      <script>
      $(document).ready(function() {
        $('.sliding-panel-button,.sliding-panel-fade-screen,.sliding-panel-close').on('click touchstart',function (e) {
          $('.sliding-panel-content,.sliding-panel-fade-screen').toggleClass('is-visible');
          e.preventDefault();
        });
      });
      </script>
    </main>
  </body>
</html>
