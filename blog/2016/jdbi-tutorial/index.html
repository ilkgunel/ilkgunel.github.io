<!DOCTYPE html>
<html>
    <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>JDBI İle Database İşlemleri 1 - Kayıt Ekleme</title>
    <meta name="description" content="Merhabalar.">

    <link rel="stylesheet" href="/css/main.css">
    <link rel="canonical" href="http://ilkaygunel.com/blog/2016/jdbi-tutorial/">
    <link rel="alternate" type="application/rss+xml" title="İlkay Günel - Blog" href="http://ilkaygunel.com/feed.xml" />
      <!-- Begin Jekyll SEO tag v2.0.0 -->
<title>JDBI İle Database İşlemleri 1 - Kayıt Ekleme - İlkay Günel - Blog</title>
<meta property="og:title" content="JDBI İle Database İşlemleri 1 - Kayıt Ekleme" />
<meta name="description" content="JDBI İle Database İşlemlerir 1 - Kayıt Ekleme" />
<meta property="og:description" content="JDBI İle Database İşlemlerir 1 - Kayıt Ekleme" />
<link rel="canonical" href="http://ilkaygunel.com/blog/2016/jdbi-tutorial/" />
<meta property="og:url" content="http://ilkaygunel.com/blog/2016/jdbi-tutorial/" />
<meta property="og:site_name" content="İlkay Günel - Blog" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2016-12-23T20:40:21+03:00" />
<script type="application/ld+json">
  {
    "@context": "http://schema.org",
    "@type": "BlogPosting",
    "headline": "JDBI İle Database İşlemleri 1 - Kayıt Ekleme",
    "datePublished": "2016-12-23T20:40:21+03:00",
    "description": "JDBI İle Database İşlemlerir 1 - Kayıt Ekleme",
    "url": "http://ilkaygunel.com/blog/2016/jdbi-tutorial/"
  }
</script>
<!-- End Jekyll SEO tag -->
  </head>

  <body>
    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-76541903-2', 'auto');
  ga('send', 'pageview');
</script>

    <main>
      <header class="site-header">
  <div class="container">
    <h1><a href="/">Ana Sayfa</a></h1>

    <button type="button" class="sliding-panel-button">
      <span></span>
      <span></span>
      <span></span>
    </button>

    <nav class="navbar sliding-panel-content">
      <ul>
        
          <li><a href="/cv.pdf" title="Bana Ait CV">Bana Ait CV</a></li>
        
          <li><a href="/blog/2016/git-nedir" title="Git Nedir? Nasıl Kullanılır?">Git Nedir? Nasıl Kullanılır?</a></li>
        
          <li><a href="/blog/2016/jsf-tutorials-list" title="JSF">JSF</a></li>
        
          <li><a href="/blog/2016/spring-tutorials" title="Spring 4">Spring 4</a></li>
        
          <li><a href="/blog/2016/eclipselink" title="Eclipselink">Eclipselink</a></li>
        
          <li><a href="/blog/2016/resteasy/" title="Resteasy">Resteasy</a></li>
        
          <li><a href="/blog/2016/mongodb/" title="MongoDB&Java">MongoDB&Java</a></li>
        
          <li><a href="/blog/2016/test" title="Test">Test</a></li>
        
          <li><a href="/blog/2016/useful-libraries-for-java" title="Java İçin Faydalı Kütüphaneler">Java İçin Faydalı Kütüphaneler</a></li>
        
          <li><a href="/about" title="Hakkımda">Hakkımda</a></li>
        
          <li><a href="/blog/2016/eclipse-notes" title="Eclipse">Eclipse</a></li>
        
          <li><a href="/blog/2016/formula1/" title="Formula 1">Formula 1</a></li>
        
          <li><a href="/blog/2016/kitaplar" title="Kitaplar">Kitaplar</a></li>
        
          <li><a href="/blog" title="Blog">Blog</a></li>
        
        <li><a href="/feed.xml" target="_blank"><i class="icon icon-feed"></i></a></li>
      </ul>
    </nav>
  </div>
</header>

<div class="sliding-panel-fade-screen"></div>


      <div class="container">
        <article role="article" class="post">

  <div class="card">
    <header class="post-header">
      <h1 class="post-title">JDBI İle Database İşlemleri 1 - Kayıt Ekleme</h1>
      <p class="post-meta">Dec 23, 2016</p>
    </header>

    <div class="post-content">
      <p>Merhabalar.</p>

<p>Bu yazıda sizlere <strong><em>JDBI Kütüphanesi</em></strong>‘nden bahsetmeye ve kayıt ekleme işlemini anlatmaya çalışacağım.</p>

<p><strong>JDBI Nedir?</strong></p>

<p>Günümüz Java dünyasında veritabanı ile çalışan projeler veritabanı ile iletişim için ne kullandıkları farketmeksizin en temel katmanda JDBC kullanmaktadırlar. Kurumsal projelerde kullanılan ORM
frameworkleri de (Hibernate, Eclipselink, MyBatis vs.) tabanda JDBC üzerinde çalışmaktadır. Aynı şekilde JDBI da JDBC katmanı üzerinde çalışan ve veritabanı işlemleri gerçekleştirmeyi sağlayan
bir kütüphanedir.</p>

<p>JDBI geliştiricilerinin amacı JDBC’nin sağladığı avantajları daha da kolaylaştırarak geliştiriciye sağlamaktır. Bu işlem için de beanler (pojo sınıfları) ve collection sınıflarını kullanarak
yapmayı uygun görmüşler.</p>

<p>Aynı zamanda JDBI bize veri tabanı işlemlerimizi bir Interface içerisinde tanımlayıp implementasyonunu JDBI’a yaptırarak bakımı çok daha kolay kodlar yazma imkanı sunar.</p>

<p><strong>JDBI İle Kayıt Ekleme</strong></p>

<p>JDBI’ın ne olduğunu gördükten sonra JDBI kayıt ekleme işlemini örnekleyen bir uygulama yapalım. Ben bu ve gelecek yazılar için MySQL veritabanı sunucusu üzerindeki bir veritabanı kullanacağım.</p>

<p>Öncelikle bir adet JDBIDatabase adında veritabanı oluşturdum. Arından da şu kod ile <strong><em>people</em></strong> adında bir tablo oluşturdum.</p>

<figure class="highlight"><pre><code class="language-text" data-lang="text">CREATE TABLE `JDBIDatabase`.`people` 
( `id` INT NOT NULL AUTO_INCREMENT , 
`name` VARCHAR(25) NOT NULL , 
`surname` VARCHAR(25) NOT NULL , 
`city` VARCHAR(25) NOT NULL , PRIMARY KEY (`id`)) 
ENGINE = InnoDB;</code></pre></figure>

<p>People tablosunda id isminde bir Primary Key olacak ve bunun yanında name, surname ve city kolonları olacak.</p>

<p>Şimdi IDE’niz içerisinde bir <strong><em>Maven</em></strong> projesi oluşturun ve pom.xml dosyasını açıp bu yazının
yazıldığı an itibari ile en güncel olan şu bağımlılık kodunu ekleyin.</p>

<figure class="highlight"><pre><code class="language-xml" data-lang="xml"><span class="nt">&lt;dependency&gt;</span>
    <span class="nt">&lt;groupId&gt;</span>org.jdbi<span class="nt">&lt;/groupId&gt;</span>
    <span class="nt">&lt;artifactId&gt;</span>jdbi<span class="nt">&lt;/artifactId&gt;</span>
    <span class="nt">&lt;version&gt;</span>2.77<span class="nt">&lt;/version&gt;</span>
<span class="nt">&lt;/dependency&gt;</span></code></pre></figure>

<p>Local Maven reponuzda bu kütüphane yoksa projeye sağ tıklayıp Clean&amp;Build seçeneğine tıklayın.</p>

<p>Şimdi veritabanındaki People tablosuna karşılık gelen Person sınıfını oluşturalım:</p>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="kn">package</span> <span class="n">com</span><span class="o">.</span><span class="na">ilkaygunel</span><span class="o">.</span><span class="na">jdbitutorial</span><span class="o">.</span><span class="na">pojo</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">Person</span> <span class="o">{</span>

    <span class="kd">private</span> <span class="kt">int</span> <span class="n">id</span><span class="o">;</span>
    <span class="kd">private</span> <span class="n">String</span> <span class="n">name</span><span class="o">;</span>
    <span class="kd">private</span> <span class="n">String</span> <span class="n">surname</span><span class="o">;</span>
    <span class="kd">private</span> <span class="n">String</span> <span class="n">city</span><span class="o">;</span>

    <span class="kd">public</span> <span class="kt">int</span> <span class="nf">getId</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">id</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setId</span><span class="o">(</span><span class="kt">int</span> <span class="n">id</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">id</span> <span class="o">=</span> <span class="n">id</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="n">String</span> <span class="nf">getName</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">name</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setName</span><span class="o">(</span><span class="n">String</span> <span class="n">name</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">name</span> <span class="o">=</span> <span class="n">name</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="n">String</span> <span class="nf">getSurname</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">surname</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setSurname</span><span class="o">(</span><span class="n">String</span> <span class="n">surname</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">surname</span> <span class="o">=</span> <span class="n">surname</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="n">String</span> <span class="nf">getCity</span><span class="o">()</span> <span class="o">{</span>
        <span class="k">return</span> <span class="n">city</span><span class="o">;</span>
    <span class="o">}</span>

    <span class="kd">public</span> <span class="kt">void</span> <span class="nf">setCity</span><span class="o">(</span><span class="n">String</span> <span class="n">city</span><span class="o">)</span> <span class="o">{</span>
        <span class="k">this</span><span class="o">.</span><span class="na">city</span> <span class="o">=</span> <span class="n">city</span><span class="o">;</span>
    <span class="o">}</span>

<span class="o">}</span></code></pre></figure>

<p>Şimdi veritabanı işlemlerimizi gerçekleştirmek için bir Interface tanımlayalım. Bu Interface içerisinde JDBI’a ait SQL Object API adı verilen bir mekanizma kullanacağız. Başlangıç için kodumuz
şu şekilde olsun:</p>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="kn">package</span> <span class="n">com</span><span class="o">.</span><span class="na">ilkaygunel</span><span class="o">.</span><span class="na">jdbitutorial</span><span class="o">.</span><span class="na">operation</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">org.skife.jdbi.v2.sqlobject.Bind</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.skife.jdbi.v2.sqlobject.SqlUpdate</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">interface</span> <span class="nc">PersonOperationsInterface</span> <span class="o">{</span>
    <span class="nd">@SqlUpdate</span><span class="o">(</span><span class="s">&quot;insert into people(name,surname,city) values(:name,:surname,:city)&quot;</span><span class="o">)</span>
    <span class="kd">public</span> <span class="kt">int</span> <span class="nf">insertRecord</span><span class="o">(</span><span class="nd">@Bind</span><span class="o">(</span><span class="s">&quot;name&quot;</span><span class="o">)</span> <span class="n">String</span> <span class="n">name</span><span class="o">,</span><span class="nd">@Bind</span><span class="o">(</span><span class="s">&quot;surname&quot;</span><span class="o">)</span> <span class="n">String</span> <span class="n">surname</span><span class="o">,</span><span class="nd">@Bind</span><span class="o">(</span><span class="s">&quot;city&quot;</span><span class="o">)</span> <span class="n">String</span> <span class="n">city</span><span class="o">);</span>
    
    <span class="kt">void</span> <span class="nf">close</span><span class="o">();</span>
<span class="o">}</span></code></pre></figure>

<p>PersonOperationsInterface içerisinde <strong><em>insertRecord</em></strong> adında bir metot tanımlı. Bu metot <strong><em>@SqlUpdate</em></strong> notasyonu ile işaretli. Klasik JDBC’de Select işlemi executeQuery metodu ile, diğer 3 
işlem ise executeUpdate metodu ile yapılabiliyor. Burada da aynı mantık geçerli ve kayıt ekleme işlemi için metodumuzu SqlUpdate notasyonu ile işaretledik. @SqlUpdate notasyonu içerisine
çalıştırılarak SQL cümleciğini parametre olarak alır. Insert işleminde veritabanına işlenecek kayıtlar da values içerisinde önlerine iki nokta koyularak tanımlanır. Klasik JDBC’de bu işlem
PreparedStatement kullanılırsa soru işareti ve preparedStatement.setString() gibi metotlar ile yapılıyordu. Akabinde bu SQL cümleciği içerisinde tanınlanmış olan değerlerin metodun parametre kısmında
@Bind notasyonu ile de tanımlanması gerekiyor. Herhangi bir yerden bu metot çağırıldığında öncelikle gelen değerler metodun parametre kısmında iletilecek, akabinde @Bind notasyonu vasıtası ile
SQL cümleciğine geçirilecek. Bu nedenle @Bind notasyonunun aldığı parametreler ile SQL cümleciğindeki iki nokta ile başlayan parametrelerin kesinlikle aynı olması gerekir.</p>

<p>Interface içerisinde bir de close metodu tanımlı. JDBI bu metodu kullanarak tabandaki JDBC bağlantısını kapatacak.</p>

<p>Şimdi bir de InsertRecordOperation sınıfı oluşturalım ve bu metodun çağırılmasını görelim.</p>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="kn">package</span> <span class="n">com</span><span class="o">.</span><span class="na">ilkaygunel</span><span class="o">.</span><span class="na">jdbitutorial</span><span class="o">.</span><span class="na">operation</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">com.mysql.cj.jdbc.MysqlDataSource</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.skife.jdbi.v2.DBI</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">InsertRecordOperation</span> <span class="o">{</span>

    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">MysqlDataSource</span> <span class="n">mysqlDataSource</span> <span class="o">=</span> <span class="k">new</span> <span class="nf">MysqlDataSource</span><span class="o">();</span>
        <span class="n">mysqlDataSource</span><span class="o">.</span><span class="na">setURL</span><span class="o">(</span><span class="s">&quot;jdbc:mysql://localhost:3306/JDBIDatabase&quot;</span><span class="o">);</span>
        <span class="n">mysqlDataSource</span><span class="o">.</span><span class="na">setUser</span><span class="o">(</span><span class="s">&quot;root&quot;</span><span class="o">);</span>
        <span class="n">mysqlDataSource</span><span class="o">.</span><span class="na">setPassword</span><span class="o">(</span><span class="s">&quot;&quot;</span><span class="o">);</span>

        <span class="n">DBI</span> <span class="n">dbi</span> <span class="o">=</span> <span class="k">new</span> <span class="nf">DBI</span><span class="o">(</span><span class="n">mysqlDataSource</span><span class="o">);</span>

        <span class="n">PersonOperationsInterface</span> <span class="n">personOperationsInterface</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>

        <span class="k">try</span> <span class="o">{</span>
            <span class="n">personOperationsInterface</span> <span class="o">=</span> <span class="n">dbi</span><span class="o">.</span><span class="na">open</span><span class="o">(</span><span class="n">PersonOperationsInterface</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
            <span class="n">personOperationsInterface</span><span class="o">.</span><span class="na">insertRecord</span><span class="o">(</span><span class="s">&quot;Can&quot;</span><span class="o">,</span> <span class="s">&quot;Kahveci&quot;</span><span class="o">,</span> <span class="s">&quot;Trabzon&quot;</span><span class="o">);</span>
            <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&quot;The Record Inserted Successfully!&quot;</span><span class="o">);</span>
        <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">Exception</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">System</span><span class="o">.</span><span class="na">err</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&quot;An Error Occured!\n Error is:&quot;</span> <span class="o">+</span> <span class="n">e</span><span class="o">);</span>
        <span class="o">}</span> <span class="k">finally</span> <span class="o">{</span>
            <span class="k">if</span> <span class="o">(</span><span class="n">personOperationsInterface</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
                <span class="n">personOperationsInterface</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>
            <span class="o">}</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span></code></pre></figure>

<p>JDBI ile bir veritabanı işlemi gerçekleştireceğimiz zaman kullandığımız veritabanına göre bir DataSource oluşturmamız gerekiyor. Bu örnek için biz MySQL veritabanı kullanıyoruz ve bu nedenle bir
<strong><em>MySqlDataSource</em></strong> nesnesi oluşturuyoruz. Bu nesnenin setURL metodu ile database linkini veriyoruz, setUser metodu ile database kullanıcısı ve setPassword metodu ile database parolasını tanımlıyoruz.
Biz her ne kadar burada direk String olarak veritabanı kullanıcı adı ve şifresini yazmış olsak da proje geliştirirken bunların bir dosyadan okunup bildirilmesi daha iyi ve geçerlidir.</p>

<p>Akabinde bir adet DBI nesnesini DBI sınıfının yapılandırıcısına MySqlDataSource nesnesini vererek oluşturuyoruz. Bu nesne MySqlDataSource’u kullanarak bizi veritabanına ulaştıracak.</p>

<p>Akabinde PersonOperationsInterface tipinde bir nesne tanımlıyoruz.</p>

<p>try bloğu içerisinde <strong><em>dbi.open(PersonOperationsInterface.class)</em></strong> metodu ile JDBI’a PersonOperationsInterface arabirimindeki metotları implemente ettiriyoruz ve personOperationsInterface
nesnesinin içini dolduruyoruz. Bu işlemden sonra da personOperationsInterface nesnesi üzerinden insertRecord metodunu parametrelerini vererek çağırıyoruz. İşlem başarılı olursa kod bir sonraki
satıra geçip ekrana başarılı bilgisini yazdıracak. Eğer hata meydana gelirse catch’e girip hatayı ekrana yazıdracak. Son olarak finally bloğu içerisnde de JDBI tarafından içi doldurulan 
personOperationsInterface nesnesini kapatıyoruz.</p>

<p>Şimdi bu main metodunu çalıştıralım.</p>

<p><a href="/images/jdbi/jdbi1.png">
<img src="/images/jdbi/jdbi1.png" style="width: 958px; height= 400px;" />
</a></p>

<p>Kayıt başarı ile girildi mesajını aldık. Bir de veritabanını kontrol edelim.</p>

<p><a href="/images/jdbi/jdbi2.png">
<img src="/images/jdbi/jdbi2.png" style="width: 958px; height= 400px;" />
</a></p>

<p>Veritabanında kayıt başarılı ile girilmiş görünüyor.</p>

<p>Her zaman sadece bir bir kayıt girilmesi durumu yeterli olmuyor, çoklu kayıt girilmesi gerekebiliyor. Bu durum için de JDBI bir kolaylık sağlamış durumda. PersonOperationsInterface arabirimine
şu 2 satır kodu ekleyelim:</p>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="nd">@SqlBatch</span><span class="o">(</span><span class="s">&quot;insert into people(name,surname,city) values(:name,:surname,:city)&quot;</span><span class="o">)</span>
<span class="kd">public</span> <span class="kt">void</span> <span class="nf">insertAll</span><span class="o">(</span><span class="nd">@BindBean</span> <span class="n">List</span><span class="o">&lt;</span><span class="n">Person</span><span class="o">&gt;</span> <span class="n">personList</span><span class="o">);</span></code></pre></figure>

<p>Birden fazla kayıt eklenecek ise öncelikle bu işlemi yapacak metot <strong><em>@SqlBatch</em></strong> metodu ile işaretlenir. Bu notasyona tek kayıt eklerkenki gibi SQL cümleceğini veriyoruz. Metodumuzun parametre
kısmında ise bir personList geçiriyoruz ve bu listeyi <strong><em>@BindBean</em></strong> notasyonu ile işaretliyoruz. @BindBean notasyonu bu metot tetiklendiğinde @SqlBatch’e listeyi geçirecek ve listedeki tüm değerler
veritabanına işlenecek.</p>

<p>Şimdi InsertMultipleRecords adında bir sınıf oluşturalım ve içeriğini şöyle güncelleyelim:</p>

<figure class="highlight"><pre><code class="language-java" data-lang="java"><span class="kn">package</span> <span class="n">com</span><span class="o">.</span><span class="na">ilkaygunel</span><span class="o">.</span><span class="na">jdbitutorial</span><span class="o">.</span><span class="na">operation</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">com.ilkaygunel.jdbitutorial.pojo.Person</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">com.mysql.cj.jdbc.MysqlDataSource</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.ArrayList</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">java.util.List</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.skife.jdbi.v2.DBI</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">InsertMultipleRecordsOperation</span> <span class="o">{</span>
    <span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
        <span class="n">MysqlDataSource</span> <span class="n">mysqlDataSource</span> <span class="o">=</span> <span class="k">new</span> <span class="nf">MysqlDataSource</span><span class="o">();</span>
        <span class="n">mysqlDataSource</span><span class="o">.</span><span class="na">setURL</span><span class="o">(</span><span class="s">&quot;jdbc:mysql://localhost:3306/JDBIDatabase&quot;</span><span class="o">);</span>
        <span class="n">mysqlDataSource</span><span class="o">.</span><span class="na">setUser</span><span class="o">(</span><span class="s">&quot;root&quot;</span><span class="o">);</span>
        <span class="n">mysqlDataSource</span><span class="o">.</span><span class="na">setPassword</span><span class="o">(</span><span class="s">&quot;&quot;</span><span class="o">);</span>

        <span class="n">DBI</span> <span class="n">dbi</span> <span class="o">=</span> <span class="k">new</span> <span class="nf">DBI</span><span class="o">(</span><span class="n">mysqlDataSource</span><span class="o">);</span>

        <span class="n">PersonOperationsInterface</span> <span class="n">personOperationsInterface</span> <span class="o">=</span> <span class="kc">null</span><span class="o">;</span>

        <span class="k">try</span> <span class="o">{</span>
            <span class="n">List</span><span class="o">&lt;</span><span class="n">Person</span><span class="o">&gt;</span> <span class="n">personList</span> <span class="o">=</span> <span class="k">new</span> <span class="n">ArrayList</span><span class="o">&lt;&gt;();</span>
            <span class="k">for</span> <span class="o">(</span><span class="kt">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="o">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">2</span><span class="o">;</span> <span class="n">i</span><span class="o">++)</span> <span class="o">{</span>
                <span class="n">Person</span> <span class="n">person</span> <span class="o">=</span> <span class="k">new</span> <span class="nf">Person</span><span class="o">();</span>
                <span class="n">person</span><span class="o">.</span><span class="na">setId</span><span class="o">(</span><span class="n">i</span><span class="o">);</span>
                <span class="n">person</span><span class="o">.</span><span class="na">setName</span><span class="o">(</span><span class="s">&quot;Vedat&quot;</span><span class="o">);</span>
                <span class="n">person</span><span class="o">.</span><span class="na">setSurname</span><span class="o">(</span><span class="s">&quot;Gülmez&quot;</span><span class="o">);</span>
                <span class="n">person</span><span class="o">.</span><span class="na">setCity</span><span class="o">(</span><span class="s">&quot;izmir&quot;</span><span class="o">);</span>
                
                <span class="n">personList</span><span class="o">.</span><span class="na">add</span><span class="o">(</span><span class="n">person</span><span class="o">);</span>
            <span class="o">}</span>
            
        
            <span class="n">personOperationsInterface</span> <span class="o">=</span> <span class="n">dbi</span><span class="o">.</span><span class="na">open</span><span class="o">(</span><span class="n">PersonOperationsInterface</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
            <span class="n">personOperationsInterface</span><span class="o">.</span><span class="na">insertAll</span><span class="o">(</span><span class="n">personList</span><span class="o">);</span>
            <span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&quot;The Records Inserted Successfully!&quot;</span><span class="o">);</span>
        <span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">Exception</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
            <span class="n">System</span><span class="o">.</span><span class="na">err</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">&quot;An Error Occured!\n Error is:&quot;</span> <span class="o">+</span> <span class="n">e</span><span class="o">);</span>
        <span class="o">}</span> <span class="k">finally</span> <span class="o">{</span>
            <span class="k">if</span> <span class="o">(</span><span class="n">personOperationsInterface</span> <span class="o">!=</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
                <span class="n">personOperationsInterface</span><span class="o">.</span><span class="na">close</span><span class="o">();</span>
            <span class="o">}</span>
        <span class="o">}</span>
    <span class="o">}</span>
<span class="o">}</span></code></pre></figure>

<p>Sınıfımız içerisinde hemen hemen tüm işlemler tek kayıt ekleme ile aynı. Farklı olarak try içinde personList listesini oluşturup dolduruyoruz ve insertAll metoduna listeyi geçiriyoruz. Kodu 
çalıştırdığımızda konsol çıktımız şu şekilde oluyor:</p>

<p><a href="/images/jdbi/jdbi5.png">
<img src="/images/jdbi/jdbi5.png" style="width: 958px; height= 400px;" />
</a></p>

<p>Veritabanını kontrol ettiğimizde de kayıtlar gerçekten girilmiş görünüyor.</p>

<p><a href="/images/jdbi/jdbi6.png">
<img src="/images/jdbi/jdbi6.png" style="width: 958px; height= 400px;" />
</a></p>

<p>Bu yazıda anlatacaklarım bu kadar arkadaşlar. Bir ve birden fazla kayıt JDBI ile nasıl eklenir onu görmüş olduk. Gelecek yazıda kayıt çekme işlemlerine değineceğiz.</p>

<p>Görüşmek üzere</p>

<p style="text-align: center">Selam ve Sevgilerimle</p>

    </div>

    
<hr>

<aside id="comments" class="disqus">
  <div class="container">
    <h3><i class="icon icon-comments-o"></i> Comments</h3>
    <div id="disqus_thread"></div>
<script>

/**
 *  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
 *  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables */
/*
var disqus_config = function () {
    this.page.url = PAGE_URL;  // Replace PAGE_URL with your page's canonical URL variable
    this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
};
*/
(function() { // DON'T EDIT BELOW THIS LINE
    var d = document, s = d.createElement('script');
    s.src = '//ilkaygunel-com.disqus.com/embed.js';
    s.setAttribute('data-timestamp', +new Date());
    (d.head || d.body).appendChild(s);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>                                    
  </div>
</aside>

  </div>

</article>

      </div>

      <footer class="site-footer">
  <div class="container">
    <ul class="social">
  <li><a href="http://github.com/ilkgunel" target="_blank"><i class="icon icon-github"></i></a></li>
  <li><a href="http://twitter.com/ilkgunel" target="_blank"><i class="icon icon-twitter"></i></a></li>
  <li><a href="https://www.facebook.com/ilkay.gunel" target="_blank"><i class="icon icon-facebook"></i></a></li>
  <li><a href="http://linkedin.com/in/ilkaygunel" target="_blank"><i class="icon icon-linkedin"></i></a></li>
  <li><a href="https://www.instagram.com/first.month/" target="_blank"><img src="/images/instagram.png" style="width: 24px;height: 24px;"></img></a></li>
</ul>
    <p class="txt-medium-gray">
      <small>&copy;2017 All rights reserved. Made with <a href="http://jekyllrb.com/" target="_blank">Jekyll</a> and ♥</small>
    </p>
  </div>
</footer>


      <a href="http://github.com/ilkgune/ilkgunel.github.io" target="_blank" class="github-corner"><svg width="80" height="80" viewBox="0 0 250 250" style="fill:#337ab7; color:#fff; position: absolute; top: 0; border: 0; right: 0;"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a>

      <script src="//code.jquery.com/jquery-1.11.3.min.js"></script>
      <script>
      $(document).ready(function() {
        $('.sliding-panel-button,.sliding-panel-fade-screen,.sliding-panel-close').on('click touchstart',function (e) {
          $('.sliding-panel-content,.sliding-panel-fade-screen').toggleClass('is-visible');
          e.preventDefault();
        });
      });
      </script>
    </main>
  </body>
</html>
