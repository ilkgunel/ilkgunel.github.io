<!DOCTYPE html>
<html>
    <head>
  <script type="text/javascript">
        function setVoice() {
            var vid = document.getElementById("voice");
            if(vid!=null){
            	vid.volume = 0.2;
            }
        }
        window.onload = setVoice;
        </script>
  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
	<script>
	  (adsbygoogle = window.adsbygoogle || []).push({
		google_ad_client: "ca-pub-0980023289791742",
		enable_page_level_ads: true
	  });
	</script>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Java’da JSon Kullanarak Restful Web Servis Oluşturma Ve Web Projesinde Kullanma</title>
    <meta name="description" content="">

    <link rel="stylesheet" href="/css/main.css">
    <link rel="canonical" href="http://ilkaygunel.com/blog/2016/javada-JSon-Kullanarak-Restful-Web-Servis-Olu%C5%9Fturma-Ve-Web-Projesinde-Kullanma/">
    <link rel="alternate" type="application/rss+xml" title="İlkay Günel - Blog" href="http://ilkaygunel.com/feed.xml" />
      <!-- Begin Jekyll SEO tag v2.6.1 -->
<title>Java’da JSon Kullanarak Restful Web Servis Oluşturma Ve Web Projesinde Kullanma | İlkay Günel - Blog</title>
<meta name="generator" content="Jekyll v3.8.6" />
<meta property="og:title" content="Java’da JSon Kullanarak Restful Web Servis Oluşturma Ve Web Projesinde Kullanma" />
<meta name="author" content="İlkay Günel" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Java’da JSon Kullanarak Restful Web Servis Oluşturma Ve Web Projesinde Kullanma" />
<meta property="og:description" content="Java’da JSon Kullanarak Restful Web Servis Oluşturma Ve Web Projesinde Kullanma" />
<link rel="canonical" href="http://ilkaygunel.com/blog/2016/javada-JSon-Kullanarak-Restful-Web-Servis-Olu%C5%9Fturma-Ve-Web-Projesinde-Kullanma/" />
<meta property="og:url" content="http://ilkaygunel.com/blog/2016/javada-JSon-Kullanarak-Restful-Web-Servis-Olu%C5%9Fturma-Ve-Web-Projesinde-Kullanma/" />
<meta property="og:site_name" content="İlkay Günel - Blog" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2016-09-04T19:38:20+03:00" />
<script type="application/ld+json">
{"@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"http://ilkaygunel.com/blog/2016/javada-JSon-Kullanarak-Restful-Web-Servis-Olu%C5%9Fturma-Ve-Web-Projesinde-Kullanma/"},"author":{"@type":"Person","name":"İlkay Günel"},"url":"http://ilkaygunel.com/blog/2016/javada-JSon-Kullanarak-Restful-Web-Servis-Olu%C5%9Fturma-Ve-Web-Projesinde-Kullanma/","headline":"Java’da JSon Kullanarak Restful Web Servis Oluşturma Ve Web Projesinde Kullanma","dateModified":"2016-09-04T19:38:20+03:00","datePublished":"2016-09-04T19:38:20+03:00","description":"Java’da JSon Kullanarak Restful Web Servis Oluşturma Ve Web Projesinde Kullanma","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->

  </head>

  <body>
    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-76541903-2', 'auto');
  ga('send', 'pageview');
</script>

    <main>
      <header class="site-header">
  <div class="container">
    <h1><a href="/">Ana Sayfa</a></h1>

    <button type="button" class="sliding-panel-button">
      <span></span>
      <span></span>
      <span></span>
    </button>

    <nav class="navbar sliding-panel-content">
      <ul>
        
          <li><a href="/ilkay-gunel-cv.pdf" title="Bana Ait CV">Bana Ait CV</a></li>
        
          <li><a href="/blog/2016/git-nedir" title="Git Nedir? Nasıl Kullanılır?">Git Nedir? Nasıl Kullanılır?</a></li>
        
          <li><a href="/blog/2017/angular-2-tutorials" title="Angular 2">Angular 2</a></li>
        
          <li><a href="/blog/2016/maven-tutorials" title="Maven">Maven</a></li>
        
          <li><a href="/blog/2016/vue-tutorials" title="Vue.js">Vue.js</a></li>
        
          <li><a href="/blog/2016/jsf-tutorials-list" title="JSF">JSF</a></li>
        
          <li><a href="/blog/2016/spring-tutorials" title="Spring 4">Spring 4</a></li>
        
          <li><a href="/blog/2016/eclipselink" title="Eclipselink">Eclipselink</a></li>
        
          <li><a href="/blog/2016/resteasy/" title="Resteasy">Resteasy</a></li>
        
          <li><a href="/blog/2016/mongodb/" title="MongoDB&Java">MongoDB&Java</a></li>
        
          <li><a href="/blog/2016/test" title="Test">Test</a></li>
        
          <li><a href="/blog/2016/useful-libraries-for-java" title="Java İçin Faydalı Kütüphaneler">Java İçin Faydalı Kütüphaneler</a></li>
        
          <li><a href="/about" title="Hakkımda">Hakkımda</a></li>
        
          <li><a href="/blog/2016/eclipse-notes" title="Eclipse">Eclipse</a></li>
        
          <li><a href="/blog/2016/formula1/" title="Formula 1">Formula 1</a></li>
        
          <li><a href="/blog/2016/kitaplar" title="Kitaplar">Kitaplar</a></li>
        
          <li><a href="/blog" title="Blog">Blog</a></li>
        
        <li><a href="/feed.xml" target="_blank"><i class="icon icon-feed"></i></a></li>
        <li><a href="https://1000kitap.com/ilkaygunel">1000Kitap</a></li>
      </ul>
    </nav>
	<div class="container" style="text-align: center">
		<ul class="social">
  <li><a href="https://www.instagram.com/ilkay_gunel/" target="_blank"><img src="/images/instagram.png" style="width: 48px;height: 48px;"></img></a></li>
  <li><a href="https://www.facebook.com/ilkay.gunel" target="_blank"><img src="/images/facebook.png" style="width: 48px;height: 48px;"></img></a></li>
  <li><a href="https://www.youtube.com/c/ilkaygunel" target="_blank"><img src="/images/youtube.png" style="width: 48px;height: 48px;"></img></a></li>
  <li><a href="http://twitter.com/ilkaygunel" target="_blank"><img src="/images/twitter.png" style="width: 48px;height: 48px;"></img></a></li>
  <li><a href="http://github.com/ilkgunel" target="_blank"><img src="/images/github.jpg" style="width: 48px;height: 48px;"></img></a></li>
  <li><a href="http://linkedin.com/in/ilkaygunel" target="_blank"><img src="/images/linkedin.png" style="width: 48px;height: 48px;"></img></a></li>
</ul>
	</div>
  </div>
</header>

<div class="sliding-panel-fade-screen"></div>


      <div class="container">
        <article role="article" class="post">

  <div class="card">
    <header class="post-header">
      <h1 class="post-title">Java’da JSon Kullanarak Restful Web Servis Oluşturma Ve Web Projesinde Kullanma</h1>
      <p class="post-meta">Sep 4, 2016</p>
    </header>

    <div class="post-content">
      <head>
<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
ga('create', 'UA-76541903-2', 'auto');
ga('send', 'pageview');
</script>
</head>

<p>Merhaba arkadaşlar. Bu yazıda sizlere Java EE standartlarından biri olan JAX RS ile Json kullanan Restful bir servis yazmayı ve başka bir projede de bu Restful web servisi kullanmayı anlatmaya çalışacağım.</p>

<p>Yazımıza ilk olarak proje için gerekli bağımlılıklarla başlayalım. Projede JAX RS kullanılacağı için bununla ilgili kütüphaneyi eklememiz lazım. Ekleyeceğimiz kütüphane JAX RS’nin referans implementasyonlarından biri olan Jersey kütüphanesidir. Eklediğimiz iki Jersey kütüphanesinden jersey-bundle web.xml’de url mapping tanımlaması yapmak için, jersey-json ise veri değişim formatı olarak JSon kullanacağımız için eklenmiştir.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>        &lt;dependency&gt;
            &lt;groupId&gt;com.sun.jersey&lt;/groupId&gt;
            &lt;artifactId&gt;jersey-bundle&lt;/artifactId&gt;
            &lt;version&gt;1.19&lt;/version&gt;
        &lt;/dependency&gt;

        &lt;dependency&gt;
            &lt;groupId&gt;com.sun.jersey&lt;/groupId&gt;
            &lt;artifactId&gt;jersey-json&lt;/artifactId&gt;
            &lt;version&gt;1.19&lt;/version&gt;
        &lt;/dependency&gt;
</code></pre></div></div>

<p>Web servisin tarayıcıdaki adresi için url mapping işlemini web.xml dosyamız içinde yapıyoruz. Bu işlem için önce servlet etiketlerimiz arasında ServletContainer sınıfını tanıtıyoruz ve yine servlet etiketinin içinde init-param etiketi ile web servisin yazılı olduğu sınıfın barındığı paketi <strong><em>com.sun.jersey.config.property.packages</em></strong> param-name’in hemen akabinde param-value olarak veriyoruz. Örneğin benim web servis sınıfım com.ilkgunel.jaxrstutorial pektinin altında yer alıyor.</p>

<p>İkinci bir init-param etiketi ile <strong><em>com.sun.jersey.api.json.POJOMappingFeature</em></strong> param-name’ine true özelliği atıyoruz ve böylece web servis’in Json tipinde veri vermesini sağlıyoruz. Yani az sonra göreceğimiz web servis sınıfından elde edilen verilerin JSon’a haritalanması işlemini yapmasını söylüyoruz.</p>

<p>Servlet mapping kısmında da web servisimizin <strong><em>/webservis/</em></strong> dizininin altında çalışmasını söylemiş oluyoruz. Yani /webservis dizinin altına gelecek olan tüm istekler aslında bu servlet-mapping ile web servisimize iletilecek.</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code> &lt;servlet&gt;
 &lt;servlet-name&gt;Jersey Web Application&lt;/servlet-name&gt;
 &lt;servlet-class&gt;com.sun.jersey.spi.container.servlet.ServletContainer&lt;/servlet-class&gt;

 &lt;init-param&gt;
 &lt;param-name&gt;com.sun.jersey.config.property.packages&lt;/param-name&gt;
 &lt;param-value&gt;com.ilkgunel.jaxrstutorial&lt;/param-value&gt;
 &lt;/init-param&gt;

 &lt;init-param&gt;
 &lt;param-name&gt;com.sun.jersey.api.json.POJOMappingFeature&lt;/param-name&gt;
 &lt;param-value&gt;true&lt;/param-value&gt;
 &lt;/init-param&gt;

 &lt;load-on-startup&gt;1&lt;/load-on-startup&gt;
 &lt;/servlet&gt;

 &lt;servlet-mapping&gt;
 &lt;servlet-name&gt;Jersey Web Application&lt;/servlet-name&gt;
 &lt;url-pattern&gt;/webservis/*&lt;/url-pattern&gt;
 &lt;/servlet-mapping&gt;
</code></pre></div></div>

<p>Şimdi web servisi yazdığımız java sınıfını inceleyelim.</p>

<h3 id="verilerijsonadonusturmejava">VerileriJsonaDonusturme.java</h3>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">package</span> <span class="n">com</span><span class="p">.</span><span class="n">ilkgunel</span><span class="p">.</span><span class="n">jaxrstutorial</span><span class="p">;</span>

<span class="n">import</span> <span class="n">com</span><span class="p">.</span><span class="n">ilkgunel</span><span class="p">.</span><span class="n">pojo</span><span class="p">.</span><span class="n">Kisiler</span><span class="p">;</span>

<span class="n">import</span> <span class="n">java</span><span class="p">.</span><span class="n">sql</span><span class="p">.</span><span class="n">Connection</span><span class="p">;</span>
<span class="n">import</span> <span class="n">java</span><span class="p">.</span><span class="n">sql</span><span class="p">.</span><span class="n">DriverManager</span><span class="p">;</span>
<span class="n">import</span> <span class="n">java</span><span class="p">.</span><span class="n">sql</span><span class="p">.</span><span class="n">PreparedStatement</span><span class="p">;</span>
<span class="n">import</span> <span class="n">java</span><span class="p">.</span><span class="n">sql</span><span class="p">.</span><span class="n">ResultSet</span><span class="p">;</span>
<span class="n">import</span> <span class="n">java</span><span class="p">.</span><span class="n">util</span><span class="p">.</span><span class="n">ArrayList</span><span class="p">;</span>
<span class="n">import</span> <span class="n">java</span><span class="p">.</span><span class="n">util</span><span class="p">.</span><span class="k">List</span><span class="p">;</span>
<span class="n">import</span> <span class="n">javax</span><span class="p">.</span><span class="n">ws</span><span class="p">.</span><span class="n">rs</span><span class="p">.</span><span class="n">GET</span><span class="p">;</span>
<span class="n">import</span> <span class="n">javax</span><span class="p">.</span><span class="n">ws</span><span class="p">.</span><span class="n">rs</span><span class="p">.</span><span class="n">Path</span><span class="p">;</span>
<span class="n">import</span> <span class="n">javax</span><span class="p">.</span><span class="n">ws</span><span class="p">.</span><span class="n">rs</span><span class="p">.</span><span class="n">Produces</span><span class="p">;</span>

<span class="p">@</span><span class="n">Path</span><span class="p">(</span><span class="s2">"/kisibilgileri"</span><span class="p">)</span>
<span class="k">public</span> <span class="n">class</span> <span class="n">VerileriJsonaDonusturme</span><span class="p">{</span>
    <span class="p">@</span><span class="n">GET</span>
    <span class="p">@</span><span class="n">Produces</span><span class="p">(</span><span class="s2">"application/json; charset=UTF-8"</span><span class="p">)</span>
    <span class="k">public</span> <span class="k">List</span><span class="p">&lt;</span><span class="n">Kisiler</span><span class="p">&gt;</span> <span class="n">verileriGetir</span><span class="p">()</span>
    <span class="p">{</span>
        <span class="k">List</span><span class="p">&lt;</span><span class="n">Kisiler</span><span class="p">&gt;</span> <span class="n">kisiListesi</span><span class="p">=</span><span class="n">new</span> <span class="n">ArrayList</span><span class="p">&lt;&gt;();</span>

        <span class="n">Connection</span> <span class="n">connnection</span><span class="p">=</span><span class="n">null</span><span class="p">;</span>
        <span class="n">PreparedStatement</span> <span class="n">preparedStatement</span><span class="p">=</span><span class="n">null</span><span class="p">;</span>
        <span class="n">ResultSet</span> <span class="n">resultSet</span><span class="p">=</span><span class="n">null</span><span class="p">;</span>
        <span class="n">try</span>
        <span class="p">{</span>
            <span class="n">Class</span><span class="p">.</span><span class="n">forName</span><span class="p">(</span><span class="s2">"com.mysql.jdbc.Driver"</span><span class="p">);</span>
            <span class="n">connnection</span><span class="p">=</span><span class="n">DriverManager</span><span class="p">.</span><span class="n">getConnection</span><span class="p">(</span><span class="s2">"jdbc:mysql://localhost:3306/jsfdersleri?useUnicode=true&amp;amp;characterEncoding=UTF-8"</span><span class="p">,</span><span class="s2">"root"</span><span class="p">,</span><span class="s2">""</span><span class="p">);</span>
            <span class="n">preparedStatement</span><span class="p">=</span><span class="n">connnection</span><span class="p">.</span><span class="n">prepareStatement</span><span class="p">(</span><span class="s2">"select * from kisiler"</span><span class="p">);</span>
            <span class="n">resultSet</span><span class="p">=</span><span class="n">preparedStatement</span><span class="p">.</span><span class="n">executeQuery</span><span class="p">();</span>
            <span class="k">while</span> <span class="p">(</span><span class="n">resultSet</span><span class="p">.</span><span class="k">next</span><span class="p">())</span>
            <span class="p">{</span>
                <span class="n">Kisiler</span> <span class="n">k</span><span class="p">=</span><span class="n">new</span> <span class="n">Kisiler</span><span class="p">();</span>
                <span class="n">k</span><span class="p">.</span><span class="n">setId</span><span class="p">(</span><span class="n">resultSet</span><span class="p">.</span><span class="n">getInt</span><span class="p">(</span><span class="s2">"id"</span><span class="p">));</span>
                <span class="n">k</span><span class="p">.</span><span class="n">setIsim</span><span class="p">(</span><span class="n">resultSet</span><span class="p">.</span><span class="n">getString</span><span class="p">(</span><span class="s2">"isim"</span><span class="p">));</span>
                <span class="n">k</span><span class="p">.</span><span class="n">setSoyisim</span><span class="p">(</span><span class="n">resultSet</span><span class="p">.</span><span class="n">getString</span><span class="p">(</span><span class="s2">"soyisim"</span><span class="p">));</span>
                <span class="n">k</span><span class="p">.</span><span class="n">setUniversite</span><span class="p">(</span><span class="n">resultSet</span><span class="p">.</span><span class="n">getString</span><span class="p">(</span><span class="s2">"universite"</span><span class="p">));</span>
                <span class="n">kisiListesi</span><span class="p">.</span><span class="n">add</span><span class="p">(</span><span class="n">k</span><span class="p">);</span>
            <span class="p">}</span>
        <span class="p">}</span>
        <span class="n">catch</span><span class="p">(</span><span class="n">Exception</span> <span class="n">e</span><span class="p">)</span>
        <span class="p">{</span>
            <span class="nf">System</span><span class="p">.</span><span class="n">err</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="n">e</span><span class="p">);</span>
        <span class="p">}</span>
        <span class="n">finally</span>
        <span class="p">{</span>
            <span class="n">try</span>
            <span class="p">{</span>
                <span class="n">connnection</span><span class="p">.</span><span class="n">close</span><span class="p">();</span>
                <span class="n">preparedStatement</span><span class="p">.</span><span class="n">close</span><span class="p">();</span>
            <span class="p">}</span>
            <span class="n">catch</span> <span class="p">(</span><span class="n">Exception</span> <span class="n">e</span><span class="p">)</span>
            <span class="p">{</span>
                <span class="nf">System</span><span class="p">.</span><span class="n">err</span><span class="p">.</span><span class="n">println</span><span class="p">(</span><span class="n">e</span><span class="p">);</span>
            <span class="p">}</span>
        <span class="p">}</span>
        <span class="n">return</span> <span class="n">kisiListesi</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<ul>
  <li>İlk olarak @Path notasyonu ile bir yol tanımlaması yapıyoruz ve bu web servisin hangi yol üzerinde çalışacağını söylüyoruz.</li>
  <li>Akabinde @GET notasyonu HTTP’nin Get metodunu kullanacağımızı söylüyoruz. Rest api HTTP protokolü üzerinde çalıştığından kullandığımız metotlarda HTTP metotları oluyor.</li>
  <li>@Produces notasyonu ile bu web servisin hangi formatta veri alış verişi yapacağını söylüyoruz. Parametre olarak verilen application/json ile JSon formatını kullanacağımızı bildiriyoruz. İkinci parametre olan charset=UTF-8 ile JSon verilerinin UTF-8 halinde karakter kodlaması yapmasını bildiriyoruz.</li>
  <li>Metodumuzun dönüş tipi POJO sınıfımız olan Kişiler tipinde bir liste. Liste döndürmemizin sebebi veri tabanında birden fazla kayıt tutmamızdır. Liste döndürerek Restful’un arka planda listedeki her göz için birer JSon objesi oluşturmasını ve oluşturacağı bir JSon dizisinde bu objelerin hepsini barındırmasını sağlamış oluyoruz.</li>
  <li>23.satırdan itibaren olay JDBC ile veritabanına bağlantı kurulması ve veri çekilmesi işlemleri olduğu için o kısma bu yazıda girmiyorum. Bilgi edinmek isterseniz <a href="http://kod5.org/jsf-veri-tabanindan-kayit-cekme/">buradaki</a> yazıma göz atabilirsiniz.</li>
  <li>Metodumuzdan oluşturmuş olduğumuz listeyi return edip çıkıyoruz.</li>
</ul>

<p>Veritabanında web servis ile sunacağımız bilgilerin yer aldığı tablo şu şekilde:</p>

<p>[<img src="/images/restresim1.png" style="width: 1024px;height= 392px;" /></p>

<p>Projeyi çalıştırıyorum ve adres çubuğundan http://localhost:8080/JaxRsTutorial/webservis/kisibilgileri adresine gidiyorum. Projemizin adı JaxRsTutorial ve web.xml içinde web servisin webservis dizini altında çalışacağını söylemiştik.  Web servis sınıfının Path ayarı da <strong><em>kisibilgileri</em></strong> olduğu için kisibilgileri yolu üzerinde çalışacak.</p>

<p>[<img src="/images/restresim2.png" style="width: 1024px;height= 392px;" />]</p>

<p>Tarayıcımızda gördüğünüz gibi veriler JSon formatında bize gösteriliyor.</p>

<p>Buraya kadar olan kısımda arkadaşlar nasıl JSon değişim formatı ile bir web servis yazabilceğimizi öğrendik. Şimdi de yazdığımız bu web servisi başka projede kullanalım ve verileri ekranda gösterelim.</p>

<p>Web servis ile veri alırken kullanacağımız proje bir JSF projesi olacak ve işlemlerimiz de oldukça basit olacak arkadaşlar. Şimdi o projeye bakalım.</p>

<h3 id="indexxhtml">index.xhtml</h3>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">&lt;?xml version='1.0' encoding='UTF-8' ?&gt;</span>
<span class="cp">&lt;!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"&gt;</span>
<span class="nt">&lt;html</span> <span class="na">xmlns=</span><span class="s">"http://www.w3.org/1999/xhtml"</span>
      <span class="na">xmlns:h=</span><span class="s">"http://xmlns.jcp.org/jsf/html"</span>
      <span class="na">xmlns:f=</span><span class="s">"http://xmlns.jcp.org/jsf/core"</span><span class="nt">&gt;</span>
    <span class="nt">&lt;h:head&gt;</span>
        <span class="nt">&lt;title&gt;</span>JSON Parse Etme<span class="nt">&lt;/title&gt;</span>
    <span class="nt">&lt;/h:head&gt;</span>
    <span class="nt">&lt;h:body&gt;</span>
        <span class="nt">&lt;h:form&gt;</span>
            <span class="nt">&lt;h:outputText</span> <span class="na">value=</span><span class="s">"Veriler"</span><span class="nt">/&gt;</span>
            <span class="nt">&lt;h:dataTable</span> <span class="na">value=</span><span class="s">"#{jSonParse.sonuc}"</span> <span class="na">var=</span><span class="s">"kisilerObjesi"</span><span class="nt">&gt;</span>
                <span class="nt">&lt;h:column&gt;</span>
                    <span class="nt">&lt;f:facet</span> <span class="na">name=</span><span class="s">"header"</span><span class="nt">&gt;</span>
                        ID
                    <span class="nt">&lt;/f:facet&gt;</span>
                    <span class="nt">&lt;h:outputText</span> <span class="na">value=</span><span class="s">"#{kisilerObjesi.id}"</span><span class="nt">/&gt;</span>
                <span class="nt">&lt;/h:column&gt;</span>

                <span class="nt">&lt;h:column&gt;</span>
                    <span class="nt">&lt;f:facet</span> <span class="na">name=</span><span class="s">"header"</span><span class="nt">&gt;</span>
                        İsim
                    <span class="nt">&lt;/f:facet&gt;</span>
                    <span class="nt">&lt;h:outputText</span> <span class="na">value=</span><span class="s">"#{kisilerObjesi.isim}"</span><span class="nt">/&gt;</span>
                <span class="nt">&lt;/h:column&gt;</span>

                <span class="nt">&lt;h:column&gt;</span>
                    <span class="nt">&lt;f:facet</span> <span class="na">name=</span><span class="s">"header"</span><span class="nt">&gt;</span>
                        Soyisim
                    <span class="nt">&lt;/f:facet&gt;</span>
                    <span class="nt">&lt;h:outputText</span> <span class="na">value=</span><span class="s">"#{kisilerObjesi.soyisim}"</span><span class="nt">/&gt;</span>
                <span class="nt">&lt;/h:column&gt;</span>

                <span class="nt">&lt;h:column&gt;</span>
                    <span class="nt">&lt;f:facet</span> <span class="na">name=</span><span class="s">"header"</span><span class="nt">&gt;</span>
                        Üniversite
                    <span class="nt">&lt;/f:facet&gt;</span>
                    <span class="nt">&lt;h:outputText</span> <span class="na">value=</span><span class="s">"#{kisilerObjesi.universite}"</span><span class="nt">/&gt;</span>
                <span class="nt">&lt;/h:column&gt;</span>
            <span class="nt">&lt;/h:dataTable&gt;</span>
        <span class="nt">&lt;/h:form&gt;</span>
    <span class="nt">&lt;/h:body&gt;</span>
<span class="nt">&lt;/html&gt;</span>
</code></pre></div></div>

<p>Index sayfamız içinde bir dataTable’ımız var ve bu dataTable JSonParse managed bean’inin içindeki <strong><em>sonuc</em></strong> listesini kullanıyor. Ekrana yazdırma işlemini de <strong><em>var</em></strong> kullanarak yapıyor.</p>

<p>JSon objesinin tuttuğu herbir bilgiyi ekrana yazdırmak için ayrı birer kolon h:column etiketi ile açılıyor ve içerisinde o anki var objesinden gelen değer yazdırılıyor. <strong><em>f:facet name=”header”</em></strong> ile de kolonlara başlık atıyoruz.</p>

<h3 id="jsonparsejava">JSonParse.java</h3>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>import java.net.URL;
import java.util.ArrayList;
import java.util.List;
import javax.faces.bean.ManagedBean;
import javax.faces.bean.SessionScoped;
import javax.json.Json;
import javax.json.JsonArray;
import javax.json.JsonReader;


@ManagedBean
@SessionScoped
public class JSonParse {
    List&lt;Kisiler&gt; sonuc;

    public void setSonuc(List&lt;Kisiler&gt; sonuc) {
        this.sonuc = sonuc;
    }

    public List&lt;Kisiler&gt; getSonuc() {
        sonuc=new ArrayList&lt;&gt;();
        String adres="http://localhost:8080/JaxRsTutorial/webservis/kisibilgileri";

        try
        {
            URL url = new URL(adres);
            JsonReader jsonReader=Json.createReader(url.openStream());
            JsonArray jsonArray = jsonReader.readArray();

            for (int i = 0; i &lt; jsonArray.size(); i++)
            {
                Kisiler k=new Kisiler();
                k.setId(Integer.parseInt(jsonArray.getJsonObject(i).get("id").toString()));
                k.setIsim(jsonArray.getJsonObject(i).get("İsim").toString());
                k.setSoyisim((String)jsonArray.getJsonObject(i).get("Soyisim").toString());
                k.setUniversite((String)jsonArray.getJsonObject(i).get("Üniversite").toString());

                sonuc.add(k);
            }
        }
        catch (Exception e)
        {
            System.err.println("Bir Hata Meydana Geldi:"+e);
        }
        System.err.println("Get Sonuç Bitti");
        return sonuc;
    }
}
</code></pre></div></div>

<p>Az önce elde ettiğimiz web servisi kullanarak JSonParse sınıfı içinde verileri elde ediyoruz. Adım adım gidelim şimdi.</p>

<ul>
  <li>Sınıfımız içinde JSon’dan elde ettiğimiz verileri tutacak bir liste tanımlıyoruz.</li>
  <li><strong><em>getSonuc</em></strong> metodu içinde listemizi oluşturuyoruz.</li>
  <li>Akabinde hangi adres üzerinden veri okuyacağımızı bildirmek amacı ile bir adres değişkeni tanımlaması yapıyoruz. Adresimiz an önce JSon çıktısı elde ettiğimiz adresimiz.</li>
  <li>try-catch bloğunun içine giriyoruz ve bir URL nesnesi oluşturuyoruz. URL sınıfının yapılandırıcısına parametre olarak adres değişkenimizi veriyoruz.</li>
  <li>Daha sonra adresimiz üzerindeki JSon’ı okuayacak olan JsonReader nesnemizi oluşturuyoruz. Yalnız burada gördüğünüz üzere oluşturma işlemi new operatörü ile yapılmıyor. Çünkü JsonReader bir interface. Onun yerine javax.json altındaki Json sınıfının createReader metodu ile nesnemizi oluşturuyoruz ve bu metoda parametre olarak oluşturmuş olduğumuz url nesnesini akış başlatılmış hali ile <strong><em>(url.openStream())</em></strong> veriyoruz.</li>
  <li>Reader nesnesi artık akış alabildiği için şimdi web servisten Json dizimizi almamız gerekiyor.  jsonReader.readArray() dediğimiz zaman bize verilen url üstündeki Json dizisini okuyacak ve döndürecek. Biz de dönen bu Json dizisini kendi jsonArray nesnemizde tutuyoruz.</li>
  <li>Akabinde for döngüsü ile bir kişiler nesnesi oluşturuyoruz ve bu nesneye jsonArray’den gelen verileri aktarıyoruz. Bu işlem için jsonArray.getJsonObject(i).get(“id”) ifadesini kullanıyoruz. Dögü jsonArray’in uzunluğu kadar dönüyor ve dizi içindeki herbir Json Objesini getJsonObject(i) diyerek alabiliyoruz. Json objesini aldıktan sonra bir de özellik (key) değerini alamamız gerekiyor. Bunun için de get(“özellik adı”) dememiz yeterli. Kod içinde gördüğünüz toString ve Integer.parseInt ifadeleri POJO sınıfı ile alakalı. Edindiğimiz özellik değerini (key’s value) POJO’daki set metodunu kullanarak kişiler nesnemize koyuyoruz.</li>
  <li>Oluşturulan her bir kişiler nesnesini sonuc listesine ekleyerek verileri kendimize almış oluyoruz.</li>
  <li>Son olarak metodumuz get metodu olduğu için return sonuc; diyerek metotdan çıkıyoruz.</li>
</ul>

<h3 id="kişilerjava">Kişiler.java</h3>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>public class Kisiler {
    int id;
    String isim;
    String soyisim;
    String universite;


    public int getId() {
        return id;
    }

    public void setId(int id) {
        this.id = id;
    }

    public String getIsim() {
        return isim;
    }

    public void setIsim(String isim) {
        this.isim = isim;
    }

    public String getSoyisim() {
        return soyisim;
    }

    public void setSoyisim(String soyisim) {
        this.soyisim = soyisim;
    }

    public String getUniversite() {
        return universite;
    }

    public void setUniversite(String universite) {
        this.universite = universite;
    }

} POJO sınfımız kendine ait özellikler ile get ve set metotlarını tutuyor.
</code></pre></div></div>

<h3 id="ekran-çıktısı">Ekran Çıktısı</h3>

<p>[<img src="/images/restresim3.png" style="width: 1024px;height= 392px;" />]</p>

<p>Ekran çıktısında da görebilceğiniz gibi web servisten JSon formatında aldığımız veriyi parçaladık ve kullandık.</p>

<p>Bu yazıda da bu kadar arkadaşlar. Basitçe sizlere web servis oluşturup kullanmayı anlatmaya çalıştım. Umarım sizlere faydalı olur. Sorularınız olursa yorum kısmından sorularınızı cevaplamaya çalışırım arkadaşlar. Başka bir yazıda görüşmek üzere sağlıcakla kalın.</p>

<div id="disqus_thread"></div>
<script>
/**
* RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
* LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables
*/
/*
var disqus_config = function () {
this.page.url = PAGE_URL; // Replace PAGE_URL with your page's canonical URL variable
this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
};
*/
(function() { // DON'T EDIT BELOW THIS LINE
var d = document, s = d.createElement('script');

s.src = '//ilkgunelgithubio.disqus.com/embed.js';

s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>

<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>

<script id="dsq-count-scr" src="//ilkgunelgithubio.disqus.com/count.js" async=""></script>

<!-- <a href="http://example.com/bar.html#disqus_thread">Link</a> -->

    </div>

    
<hr>

<aside id="comments" class="disqus">
  <div class="container">
    <h3><i class="icon icon-comments-o"></i> Comments</h3>
    <div id="disqus_thread"></div>
<script>

/**
 *  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
 *  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables */
/*
var disqus_config = function () {
    this.page.url = PAGE_URL;  // Replace PAGE_URL with your page's canonical URL variable
    this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
};
*/
(function() { // DON'T EDIT BELOW THIS LINE
    var d = document, s = d.createElement('script');
    s.src = '//ilkaygunel-com.disqus.com/embed.js';
    s.setAttribute('data-timestamp', +new Date());
    (d.head || d.body).appendChild(s);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>                                    
  </div>
</aside>

  </div>

</article>

      </div>

      <footer class="site-footer">
  <div class="container">
    <ul class="social">
  <li><a href="https://www.instagram.com/ilkay_gunel/" target="_blank"><img src="/images/instagram.png" style="width: 48px;height: 48px;"></img></a></li>
  <li><a href="https://www.facebook.com/ilkay.gunel" target="_blank"><img src="/images/facebook.png" style="width: 48px;height: 48px;"></img></a></li>
  <li><a href="https://www.youtube.com/c/ilkaygunel" target="_blank"><img src="/images/youtube.png" style="width: 48px;height: 48px;"></img></a></li>
  <li><a href="http://twitter.com/ilkaygunel" target="_blank"><img src="/images/twitter.png" style="width: 48px;height: 48px;"></img></a></li>
  <li><a href="http://github.com/ilkgunel" target="_blank"><img src="/images/github.jpg" style="width: 48px;height: 48px;"></img></a></li>
  <li><a href="http://linkedin.com/in/ilkaygunel" target="_blank"><img src="/images/linkedin.png" style="width: 48px;height: 48px;"></img></a></li>
</ul>
    <p class="txt-medium-gray">
      <small>&copy;2020 All rights reserved. Made with <a href="http://jekyllrb.com/" target="_blank">Jekyll</a> and ♥</small>
    </p>
  </div>
</footer>


      <a href="http://github.com/ilkgunel/ilkgunel.github.io" target="_blank" class="github-corner"><svg width="80" height="80" viewBox="0 0 250 250" style="fill:#337ab7; color:#fff; position: absolute; top: 0; border: 0; right: 0;"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a>

      <script src="//code.jquery.com/jquery-1.11.3.min.js"></script>
      <script>
      $(document).ready(function() {
        $('.sliding-panel-button,.sliding-panel-fade-screen,.sliding-panel-close').on('click touchstart',function (e) {
          $('.sliding-panel-content,.sliding-panel-fade-screen').toggleClass('is-visible');
          e.preventDefault();
        });
      });
      </script>
    </main>
  </body>
</html>
