<!DOCTYPE html>
<html>
    <head>
  <script type="text/javascript">
        function setVoice() {
            var vid = document.getElementById("voice");
            if(vid!=null){
            	vid.volume = 0.2;
            }
        }
        window.onload = setVoice;
        </script>
  <script async src="//pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
	<script>
	  (adsbygoogle = window.adsbygoogle || []).push({
		google_ad_client: "ca-pub-0980023289791742",
		enable_page_level_ads: true
	  });
	</script>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Spring Framework Dersleri 3 - Setter And Constructor Injection</title>
    <meta name="description" content="Merhabalar.">

    <link rel="stylesheet" href="/css/main.css">
    <link rel="canonical" href="http://localhost:4000/blog/2016/spring-setter-constructor-injection/">
    <link rel="alternate" type="application/rss+xml" title="İlkay Günel - Blog" href="http://localhost:4000/feed.xml" />
      <!-- Begin Jekyll SEO tag v2.4.0 -->
<title>Spring Framework Dersleri 3 - Setter And Constructor Injection | İlkay Günel - Blog</title>
<meta name="generator" content="Jekyll v3.6.2" />
<meta property="og:title" content="Spring Framework Dersleri 3 - Setter And Constructor Injection" />
<meta name="author" content="İlkay Günel" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Spring Framework Dersleri 3 - Setter And Constructor Injection" />
<meta property="og:description" content="Spring Framework Dersleri 3 - Setter And Constructor Injection" />
<link rel="canonical" href="http://localhost:4000/blog/2016/spring-setter-constructor-injection/" />
<meta property="og:url" content="http://localhost:4000/blog/2016/spring-setter-constructor-injection/" />
<meta property="og:site_name" content="İlkay Günel - Blog" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2016-11-04T20:30:21+03:00" />
<script type="application/ld+json">
{"description":"Spring Framework Dersleri 3 - Setter And Constructor Injection","author":{"@type":"Person","name":"İlkay Günel"},"@type":"BlogPosting","url":"http://localhost:4000/blog/2016/spring-setter-constructor-injection/","headline":"Spring Framework Dersleri 3 - Setter And Constructor Injection","dateModified":"2016-11-04T20:30:21+03:00","datePublished":"2016-11-04T20:30:21+03:00","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/blog/2016/spring-setter-constructor-injection/"},"@context":"http://schema.org"}</script>
<!-- End Jekyll SEO tag -->

  </head>

  <body>
    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-76541903-2', 'auto');
  ga('send', 'pageview');
</script>

    <main>
      <header class="site-header">
  <div class="container">
    <h1><a href="/">Ana Sayfa</a></h1>

    <button type="button" class="sliding-panel-button">
      <span></span>
      <span></span>
      <span></span>
    </button>

    <nav class="navbar sliding-panel-content">
      <ul>
        
          <li><a href="/ilkay-gunel-cv.pdf" title="Bana Ait CV">Bana Ait CV</a></li>
        
          <li><a href="/blog/2016/git-nedir" title="Git Nedir? Nasıl Kullanılır?">Git Nedir? Nasıl Kullanılır?</a></li>
        
          <li><a href="/blog/2017/angular-2-tutorials" title="Angular 2">Angular 2</a></li>
        
          <li><a href="/blog/2016/maven-tutorials" title="Maven">Maven</a></li>
        
          <li><a href="/blog/2016/jsf-tutorials-list" title="JSF">JSF</a></li>
        
          <li><a href="/blog/2016/spring-tutorials" title="Spring 4">Spring 4</a></li>
        
          <li><a href="/blog/2016/eclipselink" title="Eclipselink">Eclipselink</a></li>
        
          <li><a href="/blog/2016/resteasy/" title="Resteasy">Resteasy</a></li>
        
          <li><a href="/blog/2016/mongodb/" title="MongoDB&Java">MongoDB&Java</a></li>
        
          <li><a href="/blog/2016/test" title="Test">Test</a></li>
        
          <li><a href="/blog/2016/useful-libraries-for-java" title="Java İçin Faydalı Kütüphaneler">Java İçin Faydalı Kütüphaneler</a></li>
        
          <li><a href="/about" title="Hakkımda">Hakkımda</a></li>
        
          <li><a href="/blog/2016/eclipse-notes" title="Eclipse">Eclipse</a></li>
        
          <li><a href="/blog/2016/formula1/" title="Formula 1">Formula 1</a></li>
        
          <li><a href="/blog/2016/kitaplar" title="Kitaplar">Kitaplar</a></li>
        
          <li><a href="/blog/2017/filmler/" title="Filmler">Filmler</a></li>
        
          <li><a href="/blog" title="Blog">Blog</a></li>
        
        <li><a href="/feed.xml" target="_blank"><i class="icon icon-feed"></i></a></li>
        <li><a href="https://1000kitap.com/ilkaygunel">1000Kitap</a></li>
      </ul>
    </nav>
  </div>
</header>

<div class="sliding-panel-fade-screen"></div>


      <div class="container">
        <article role="article" class="post">

  <div class="card">
    <header class="post-header">
      <h1 class="post-title">Spring Framework Dersleri 3 - Setter And Constructor Injection</h1>
      <p class="post-meta">Nov 4, 2016</p>
    </header>

    <div class="post-content">
      <p>Merhabalar.</p>

<p>Önceki yazıda IoC (Inversion of Control) ve DI (Dependency Injection) konularını öğrenmiştik. Bu yazıda Spring Framework içinde
bağımlılık ihtiyacının çözümü için kullanılan yöntemlerden olan <strong><em>Setter Ve Constructor Injection</em></strong> konularını öğreneceğiz.</p>

<p><strong>Setter Injection</strong></p>

<p>Spring’e Giriş yazısında yaptığımız Hello World uygulaması aslında Setter Injection’a bir örnekti ama burada konuya bir kez
daha çalışacağız.</p>

<p>src/main/resources altındaki beans.xml dosyamız şöyle idi:</p>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span class="nt">&lt;beans</span> <span class="na">xmlns=</span><span class="s">"http://www.springframework.org/schema/beans"</span>
	<span class="na">xmlns:xsi=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span> 
	<span class="na">xmlns:p=</span><span class="s">"http://www.springframework.org/schema/p"</span>
	<span class="na">xsi:schemaLocation=</span><span class="s">"http://www.springframework.org/schema/beans
 http://www.springframework.org/schema/beans/spring-beans.xsd"</span><span class="nt">&gt;</span>
	<span class="nt">&lt;bean</span> <span class="na">id=</span><span class="s">"provider"</span> 
		  <span class="na">class=</span><span class="s">"com.ilkaygunel.springtutorials.helloworld.MessageProviderImplementation"</span> <span class="nt">/&gt;</span>
	<span class="nt">&lt;bean</span> <span class="na">id=</span><span class="s">"renderer"</span> 
		  <span class="na">class=</span><span class="s">"com.ilkaygunel.springtutorials.helloworld.MessageRendererImplementation"</span>
		  <span class="na">p:messageProvider-ref=</span><span class="s">"provider"</span> <span class="nt">/&gt;</span>
<span class="nt">&lt;/beans&gt;</span>
</code></pre></div></div>

<p>Biz bu XML dosyasında <strong><em>renderer</em></strong> id’li MessageRendererImplementation sınıfının messageProvider alanı için <strong><em>provider</em></strong>
id’li MessageProviderImplementation sınıfını referans göstermiştik. Yani biz bağımlılığa ihtiyaç duyup main kodu içinden getBean()
metodu ile renderer id’li MessageRendererImplementation sınıfından bir nesne elde ettiğimizde Spring bizim için messageProvider
alanını MessageRendererImplementation sınıfı içindeki <strong><em>setMessageProvider()</em></strong> metodu ile dolduracak.</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">public</span> <span class="kt">void</span> <span class="nf">setMessageProvider</span><span class="o">(</span><span class="n">MessageProvider</span> <span class="n">provider</span><span class="o">)</span> <span class="o">{</span>
		<span class="k">this</span><span class="o">.</span><span class="na">messageProvider</span> <span class="o">=</span> <span class="n">provider</span><span class="o">;</span>
<span class="o">}</span>
</code></pre></div></div>

<p>Yukarıdaki XML kodumuzda p tagi yerine bean taginin içinde provider tagini de kullanabilirdik. O zaman kodumuz şöyle olurdu:</p>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span class="nt">&lt;beans</span> <span class="na">xmlns=</span><span class="s">"http://www.springframework.org/schema/beans"</span>
	<span class="na">xmlns:xsi=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span> 
	<span class="na">xmlns:p=</span><span class="s">"http://www.springframework.org/schema/p"</span>
	<span class="na">xsi:schemaLocation=</span><span class="s">"http://www.springframework.org/schema/beans
 http://www.springframework.org/schema/beans/spring-beans.xsd"</span><span class="nt">&gt;</span>
	<span class="nt">&lt;bean</span> <span class="na">id=</span><span class="s">"provider"</span> 
	      <span class="na">class=</span><span class="s">"com.ilkaygunel.springtutorials.helloworld.MessageProviderImplementation"</span> <span class="nt">/&gt;</span>
	<span class="nt">&lt;bean</span> <span class="na">id=</span><span class="s">"renderer"</span> 
	      <span class="na">class=</span><span class="s">"com.ilkaygunel.springtutorials.helloworld.MessageRendererImplementation"</span><span class="nt">&gt;</span>
		    <span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"messageProvider"</span> <span class="na">ref=</span><span class="s">"provider"</span><span class="nt">&gt;&lt;/property&gt;</span>
	<span class="nt">&lt;/bean&gt;</span>
<span class="nt">&lt;/beans&gt;</span>
</code></pre></div></div>

<p>Önceki yazıda <strong><em>context:component-scan</em></strong> tag’inden bahsetmiştim. XML içine koyulacak bu tag sizin Spring uygulamanızda notasyon
kullanmak sureti ile bağımlılıklarınızı çözümlemenizi sağlar. Setter Injection’ı da dilerseniz yukarıdaki gibi XML vasıtası ile 
değil de notasyon vasıtası ile kullanabilirsiniz. Bunun için öncelikle XML dosyasına context:component-scan tag’i eklenmeli.
XML dosyasını şöyle güncelleyebiliriz:</p>

<p><strong>app-context-annotation.xml</strong></p>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span class="nt">&lt;beans</span> <span class="na">xmlns=</span><span class="s">"http://www.springframework.org/schema/beans"</span>
	<span class="na">xmlns:xsi=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span> 
	<span class="na">xmlns:context=</span><span class="s">"http://www.springframework.org/schema/context"</span>
	<span class="na">xsi:schemaLocation=</span><span class="s">"http://www.springframework.org/schema/beans
          http://www.springframework.org/schema/beans/spring-beans.xsd
          http://www.springframework.org/schema/context
          http://www.springframework.org/schema/context/spring-context.xsd"</span><span class="nt">&gt;</span>
	<span class="nt">&lt;context:component-scan</span> <span class="na">base-package=</span><span class="s">"com.ilkaygunel.springtutorials.setterconstructorinjection"</span> <span class="nt">/&gt;</span>
<span class="nt">&lt;/beans&gt;</span>
</code></pre></div></div>

<p>Az önce de belirttiğim gibi context:component-scan tag’i Spring’in notasyonlarının kullanıma açılması için gereklidir. Bu
tag’in <strong><em>base-package</em></strong> özelliğine verilen değer hangi paket altındaki sınıflar için bu izni açayım manasındadır. Biz de 
com.ilkaygunel.springtutorials.setterconstructorinjection paketi altı için bu notasyon kullanımını aç dedik.</p>

<p>Şimdi MessageProviderImplementation ve MessageRendererImplementation sınıfları üzerinde notasyon güncellemesi yapacağız. Kodlarımızı
şöyle güncelleyeceğiz:</p>

<p><strong>MessageProviderImplementation.java</strong></p>

<p>MessageProviderImplementation sınıfı üzerinde sadece sınıfı <strong><em>@Component</em></strong> notasyonu ile işaretleme işlemini yapıyoruz. Bu
notasyon Spring’in DI container’ına bu sınıfı kayıt eder ve Spring içindeki birçok notasyonun türetildiği notasyondur.</p>

<p><strong>MessageRendererImplementation.java</strong></p>

<p>MessageProviderImplementation sınıfını işaretlediğimiz gibi MessageRendererImplementation sınıfını da @Component notasyonu ile
işaretleyip Spring’e kayıt ettiriyoruz. Bu kayıt sırasında @Component notasyonunda renderer parametresini vererek renderer id
bilgisi ile kayıt et diyoruz. Sınıf içerisinde dikaktinizi <strong><em>setMessageProvider()</em></strong> metoduna çekmek istiyorum. Bu 
metot <strong><em>@Autowired</em></strong> notasyonu ile işaretlenmiş. Bu şu anlama geliyor ki Spring’in ApplicationContext’i initialize olduğunda
Spring bu bağımlılığı enjekte edecek.</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">package</span> <span class="n">com</span><span class="o">.</span><span class="na">ilkaygunel</span><span class="o">.</span><span class="na">springtutorials</span><span class="o">.</span><span class="na">setterconstructorinjection</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">org.springframework.beans.factory.annotation.Autowired</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.stereotype.Component</span><span class="o">;</span>

<span class="nd">@Component</span><span class="o">(</span><span class="s">"renderer"</span><span class="o">)</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">MessageRendererImplementation</span> <span class="kd">implements</span> <span class="n">MessageRenderer</span> <span class="o">{</span>

	<span class="kd">private</span> <span class="n">MessageProvider</span> <span class="n">messageProvider</span><span class="o">;</span>

	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">render</span><span class="o">()</span> <span class="o">{</span>
		<span class="k">if</span> <span class="o">(</span><span class="n">messageProvider</span> <span class="o">==</span> <span class="kc">null</span><span class="o">)</span> <span class="o">{</span>
			<span class="k">throw</span> <span class="k">new</span> <span class="nf">RuntimeException</span><span class="o">(</span>
					<span class="s">"You must set the property messageProvider of class:"</span> 
					<span class="o">+</span> <span class="n">MessageRendererImplementation</span><span class="o">.</span><span class="na">class</span><span class="o">.</span><span class="na">getName</span><span class="o">());</span>
		<span class="o">}</span>
		<span class="n">System</span><span class="o">.</span><span class="na">out</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="n">messageProvider</span><span class="o">.</span><span class="na">getMessage</span><span class="o">());</span>

	<span class="o">}</span>

	<span class="nd">@Override</span>
	<span class="nd">@Autowired</span>
	<span class="kd">public</span> <span class="kt">void</span> <span class="nf">setMessageProvider</span><span class="o">(</span><span class="n">MessageProvider</span> <span class="n">provider</span><span class="o">)</span> <span class="o">{</span>
		<span class="k">this</span><span class="o">.</span><span class="na">messageProvider</span> <span class="o">=</span> <span class="n">provider</span><span class="o">;</span>
	<span class="o">}</span>

	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="n">MessageProvider</span> <span class="nf">getMessageProvider</span><span class="o">()</span> <span class="o">{</span>
		<span class="k">return</span> <span class="n">messageProvider</span><span class="o">;</span>
	<span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<p><strong>HelloWorldWithDI.java</strong></p>

<p>main() metodumuzun yer aldığı sınıfımız içerisinde konfigürasyon dosyamız olan app-context-annotation.xml’i ilk dersimizde 
yaptığımız gibi yüklüyoruz. Akabinde MessageRendererImplementation sınıfı tipinde nesneyi classPathXmlApplicationContext nesnesinin
getBean() metodu vasıtası ile elde ediyoruz. Dikkat etmemiz gereken nokta renderer bean’i XML içinde kayıtlı değil. Notasyon vasıtası
ile Spring’in DI mekanizmasına kayıtlı ve oluştururken de @Component notasyonune verdiğimiz parametre ile kullanıyoruz.</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">package</span> <span class="n">com</span><span class="o">.</span><span class="na">ilkaygunel</span><span class="o">.</span><span class="na">springtutorials</span><span class="o">.</span><span class="na">setterconstructorinjection</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">org.springframework.context.support.ClassPathXmlApplicationContext</span><span class="o">;</span>

<span class="kd">public</span> <span class="kd">class</span> <span class="nc">HelloWorldWithDI</span> <span class="o">{</span>
	<span class="kd">public</span> <span class="kd">static</span> <span class="kt">void</span> <span class="nf">main</span><span class="o">(</span><span class="n">String</span><span class="o">[]</span> <span class="n">args</span><span class="o">)</span> <span class="o">{</span>
		<span class="k">try</span> <span class="o">(</span><span class="n">ClassPathXmlApplicationContext</span> <span class="n">classPathXmlApplicationContext</span> 
				<span class="o">=</span> <span class="k">new</span> <span class="n">ClassPathXmlApplicationContext</span><span class="o">(</span><span class="s">"app-context-annotation.xml"</span><span class="o">))</span> <span class="o">{</span>
			<span class="n">MessageRenderer</span> <span class="n">mr</span> <span class="o">=</span> <span class="n">classPathXmlApplicationContext</span><span class="o">.</span><span class="na">getBean</span><span class="o">(</span><span class="s">"renderer"</span><span class="o">,</span>
					<span class="n">MessageRendererImplementation</span><span class="o">.</span><span class="na">class</span><span class="o">);</span>
			<span class="n">mr</span><span class="o">.</span><span class="na">render</span><span class="o">();</span>
		<span class="o">}</span> <span class="k">catch</span> <span class="o">(</span><span class="n">Exception</span> <span class="n">e</span><span class="o">)</span> <span class="o">{</span>
			<span class="n">System</span><span class="o">.</span><span class="na">err</span><span class="o">.</span><span class="na">println</span><span class="o">(</span><span class="s">"Bir Hata Meydana Geldi! Hata:"</span> <span class="o">+</span> <span class="n">e</span><span class="o">);</span>
		<span class="o">}</span>
	<span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<p><strong>Konsol Çıktısı</strong>
Konsol çıktısı aynı şekilde çalıştı.</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">Nov</span> <span class="mo">06</span><span class="o">,</span> <span class="mi">2016</span> <span class="mi">4</span><span class="o">:</span><span class="mi">51</span><span class="o">:</span><span class="mi">45</span> <span class="n">PM</span> <span class="n">org</span><span class="o">.</span><span class="na">springframework</span><span class="o">.</span><span class="na">context</span><span class="o">.</span><span class="na">support</span><span class="o">.</span><span class="na">ClassPathXmlApplicationContext</span> <span class="n">prepareRefresh</span>
<span class="nl">INFO:</span> <span class="n">Refreshing</span> <span class="n">org</span><span class="o">.</span><span class="na">springframework</span><span class="o">.</span><span class="na">context</span><span class="o">.</span><span class="na">support</span><span class="o">.</span><span class="na">ClassPathXmlApplicationContext</span><span class="err">@</span><span class="mi">2</span><span class="nl">e817b38:</span> 
	<span class="n">startup</span> <span class="n">date</span> <span class="o">[</span><span class="n">Sun</span> <span class="n">Nov</span> <span class="mo">06</span> <span class="mi">16</span><span class="o">:</span><span class="mi">51</span><span class="o">:</span><span class="mi">45</span> <span class="n">EET</span> <span class="mi">2016</span><span class="o">];</span> <span class="n">root</span> <span class="n">of</span> <span class="n">context</span> <span class="n">hierarchy</span>
<span class="n">Nov</span> <span class="mo">06</span><span class="o">,</span> <span class="mi">2016</span> <span class="mi">4</span><span class="o">:</span><span class="mi">51</span><span class="o">:</span><span class="mi">45</span> <span class="n">PM</span> <span class="n">org</span><span class="o">.</span><span class="na">springframework</span><span class="o">.</span><span class="na">beans</span><span class="o">.</span><span class="na">factory</span><span class="o">.</span><span class="na">xml</span><span class="o">.</span><span class="na">XmlBeanDefinitionReader</span> <span class="n">loadBeanDefinitions</span>
<span class="nl">INFO:</span> <span class="n">Loading</span> <span class="n">XML</span> <span class="n">bean</span> <span class="n">definitions</span> <span class="n">from</span> <span class="kd">class</span> <span class="nc">path</span> <span class="n">resource</span> <span class="o">[</span><span class="n">app</span><span class="o">-</span><span class="n">context</span><span class="o">-</span><span class="n">annotation</span><span class="o">.</span><span class="na">xml</span><span class="o">]</span>
<span class="n">Hello</span> <span class="n">Spring</span> <span class="n">World</span> <span class="o">:)</span>
<span class="n">Nov</span> <span class="mo">06</span><span class="o">,</span> <span class="mi">2016</span> <span class="mi">4</span><span class="o">:</span><span class="mi">51</span><span class="o">:</span><span class="mi">46</span> <span class="n">PM</span> <span class="n">org</span><span class="o">.</span><span class="na">springframework</span><span class="o">.</span><span class="na">context</span><span class="o">.</span><span class="na">support</span><span class="o">.</span><span class="na">ClassPathXmlApplicationContext</span> <span class="n">doClose</span>
<span class="nl">INFO:</span> <span class="n">Closing</span> <span class="n">org</span><span class="o">.</span><span class="na">springframework</span><span class="o">.</span><span class="na">context</span><span class="o">.</span><span class="na">support</span><span class="o">.</span><span class="na">ClassPathXmlApplicationContext</span><span class="err">@</span><span class="mi">2</span><span class="nl">e817b38:</span> 
	<span class="n">startup</span> <span class="n">date</span> <span class="o">[</span><span class="n">Sun</span> <span class="n">Nov</span> <span class="mo">06</span> <span class="mi">16</span><span class="o">:</span><span class="mi">51</span><span class="o">:</span><span class="mi">45</span> <span class="n">EET</span> <span class="mi">2016</span><span class="o">];</span> <span class="n">root</span> <span class="n">of</span> <span class="n">context</span> <span class="n">hierarchy</span>
</code></pre></div></div>

<p><strong>Constructor Injection</strong></p>

<p>MessageProviderImplementation sınıfı içerisinde String’i biz elle yazmıştık ve döndürmüştük. Constructor Injection örneğimizde de
bu String’in constructor vasıtası ile enjeksiyonunu göreceğiz.</p>

<p>Öncelikle MessageProviderImplementation sınıfı şu şekilde güncelleyelim:</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">package</span> <span class="n">com</span><span class="o">.</span><span class="na">ilkaygunel</span><span class="o">.</span><span class="na">springtutorials</span><span class="o">.</span><span class="na">setterconstructorinjection</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">org.springframework.stereotype.Component</span><span class="o">;</span>

<span class="nd">@Component</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">MessageProviderImplementation</span> <span class="kd">implements</span> <span class="n">MessageProvider</span><span class="o">{</span>
	<span class="kd">private</span> <span class="n">String</span> <span class="n">message</span><span class="o">;</span>
	
	<span class="kd">public</span>  <span class="nf">MessageProviderImplementation</span><span class="o">(</span><span class="n">String</span> <span class="n">message</span><span class="o">)</span> <span class="o">{</span>
		<span class="k">this</span><span class="o">.</span><span class="na">message</span> <span class="o">=</span> <span class="n">message</span><span class="o">;</span>
	<span class="o">}</span>

	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="n">String</span> <span class="nf">getMessage</span><span class="o">()</span> <span class="o">{</span>
		<span class="k">return</span> <span class="n">message</span><span class="o">;</span>
	<span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<p>Kodda gördüğünüz gibi bu sınıf artık bir yerlerden yapılandırıcısına message parameteresinin gelmesi sureti ile bir nesne 
üretebilecektir. Şimdi biz de bu message bağımlılığını XML dosyasından gidererek işlemi çözelim.</p>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span class="nt">&lt;beans</span> <span class="na">xmlns=</span><span class="s">"http://www.springframework.org/schema/beans"</span>
	<span class="na">xmlns:xsi=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span>
	<span class="na">xsi:schemaLocation=</span><span class="s">"http://www.springframework.org/schema/beans
          http://www.springframework.org/schema/beans/spring-beans.xsd"</span><span class="nt">&gt;</span>
	<span class="nt">&lt;bean</span> <span class="na">id=</span><span class="s">"provider"</span> 
		  <span class="na">class=</span><span class="s">"com.ilkaygunel.springtutorials.setterconstructorinjection.MessageProviderImplementation"</span> <span class="nt">&gt;</span>
				<span class="nt">&lt;constructor-arg</span> <span class="na">value=</span><span class="s">"Constructor'a Yollanan Mesaj!"</span> <span class="nt">/&gt;</span>
	<span class="nt">&lt;/bean&gt;</span>
	<span class="nt">&lt;bean</span> <span class="na">id=</span><span class="s">"renderer"</span> 
		  <span class="na">class=</span><span class="s">"com.ilkaygunel.springtutorials.setterconstructorinjection.MessageRendererImplementation"</span><span class="nt">&gt;</span>
				<span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"messageProvider"</span> <span class="na">ref=</span><span class="s">"provider"</span><span class="nt">&gt;&lt;/property&gt;</span>
	<span class="nt">&lt;/bean&gt;</span>
<span class="nt">&lt;/beans&gt;</span>
</code></pre></div></div>

<p>MessageProviderImplementation sınıfını yine aynı şekilde kaydediyoruz. bean tag’inin içinde <strong><em>constructor-arg</em></strong> notasyonunu 
kullandığımız zaman ilgili sınıfın yapılandırıcısına <strong><em>value</em></strong> özelliğinde atanmış değer gönderilecek.</p>

<p>Java sınıflarımızda ise herhangi bir notasyon vs. olmayacak ve saf hallerinde duracaklar.</p>

<p>Uygulamayı çalıştırdığımızda konsol çıktımız şu şekilde olacak:</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">Nov</span> <span class="mo">06</span><span class="o">,</span> <span class="mi">2016</span> <span class="mi">5</span><span class="o">:</span><span class="mi">16</span><span class="o">:</span><span class="mi">09</span> <span class="n">PM</span> <span class="n">org</span><span class="o">.</span><span class="na">springframework</span><span class="o">.</span><span class="na">context</span><span class="o">.</span><span class="na">support</span><span class="o">.</span><span class="na">ClassPathXmlApplicationContext</span> <span class="n">prepareRefresh</span>
<span class="nl">INFO:</span> <span class="n">Refreshing</span> <span class="n">org</span><span class="o">.</span><span class="na">springframework</span><span class="o">.</span><span class="na">context</span><span class="o">.</span><span class="na">support</span><span class="o">.</span><span class="na">ClassPathXmlApplicationContext</span><span class="err">@</span><span class="mi">2</span><span class="nl">e817b38:</span> 
	<span class="n">startup</span> <span class="n">date</span> <span class="o">[</span><span class="n">Sun</span> <span class="n">Nov</span> <span class="mo">06</span> <span class="mi">17</span><span class="o">:</span><span class="mi">16</span><span class="o">:</span><span class="mi">09</span> <span class="n">EET</span> <span class="mi">2016</span><span class="o">];</span> <span class="n">root</span> <span class="n">of</span> <span class="n">context</span> <span class="n">hierarchy</span>
<span class="n">Nov</span> <span class="mo">06</span><span class="o">,</span> <span class="mi">2016</span> <span class="mi">5</span><span class="o">:</span><span class="mi">16</span><span class="o">:</span><span class="mi">09</span> <span class="n">PM</span> <span class="n">org</span><span class="o">.</span><span class="na">springframework</span><span class="o">.</span><span class="na">beans</span><span class="o">.</span><span class="na">factory</span><span class="o">.</span><span class="na">xml</span><span class="o">.</span><span class="na">XmlBeanDefinitionReader</span> <span class="n">loadBeanDefinitions</span>
<span class="nl">INFO:</span> <span class="n">Loading</span> <span class="n">XML</span> <span class="n">bean</span> <span class="n">definitions</span> <span class="n">from</span> <span class="kd">class</span> <span class="nc">path</span> <span class="n">resource</span> <span class="o">[</span><span class="n">constructor</span><span class="o">-</span><span class="n">injection</span><span class="o">.</span><span class="na">xml</span><span class="o">]</span>
<span class="n">Constructor</span><span class="err">'</span><span class="n">a</span> <span class="n">Yollanan</span> <span class="n">Mesaj</span><span class="o">!</span>
<span class="n">Nov</span> <span class="mo">06</span><span class="o">,</span> <span class="mi">2016</span> <span class="mi">5</span><span class="o">:</span><span class="mi">16</span><span class="o">:</span><span class="mi">09</span> <span class="n">PM</span> <span class="n">org</span><span class="o">.</span><span class="na">springframework</span><span class="o">.</span><span class="na">context</span><span class="o">.</span><span class="na">support</span><span class="o">.</span><span class="na">ClassPathXmlApplicationContext</span> <span class="n">doClose</span>
<span class="nl">INFO:</span> <span class="n">Closing</span> <span class="n">org</span><span class="o">.</span><span class="na">springframework</span><span class="o">.</span><span class="na">context</span><span class="o">.</span><span class="na">support</span><span class="o">.</span><span class="na">ClassPathXmlApplicationContext</span><span class="err">@</span><span class="mi">2</span><span class="nl">e817b38:</span> 
	<span class="n">startup</span> <span class="n">date</span> <span class="o">[</span><span class="n">Sun</span> <span class="n">Nov</span> <span class="mo">06</span> <span class="mi">17</span><span class="o">:</span><span class="mi">16</span><span class="o">:</span><span class="mi">09</span> <span class="n">EET</span> <span class="mi">2016</span><span class="o">];</span> <span class="n">root</span> <span class="n">of</span> <span class="n">context</span> <span class="n">hierarchy</span>
</code></pre></div></div>

<p>Hatırlayacağımız gibi XML içinde p tag’ini kullanmıştık. Constructor Injection konusunda da <strong><em>c</em></strong> tag’ini kullanabiliriz. Eğer
onu kullanmak istersek XML dosyamızı şöyle güncellememiz gerekir:</p>

<div class="language-xml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">&lt;?xml version="1.0" encoding="UTF-8"?&gt;</span>
<span class="nt">&lt;beans</span> <span class="na">xmlns=</span><span class="s">"http://www.springframework.org/schema/beans"</span>
	<span class="na">xmlns:xsi=</span><span class="s">"http://www.w3.org/2001/XMLSchema-instance"</span>
	<span class="na">xmlns:c=</span><span class="s">"http://www.springframework.org/schema/c"</span>
	<span class="na">xsi:schemaLocation=</span><span class="s">"http://www.springframework.org/schema/beans
          http://www.springframework.org/schema/beans/spring-beans.xsd"</span><span class="nt">&gt;</span>
	<span class="nt">&lt;bean</span> <span class="na">id=</span><span class="s">"provider"</span> 
		  <span class="na">class=</span><span class="s">"com.ilkaygunel.springtutorials.setterconstructorinjection.MessageProviderImplementation"</span> 
	<span class="na">c:message=</span><span class="s">"Constructor'a Yollanan Mesaj!"</span><span class="nt">/&gt;</span>
	<span class="nt">&lt;bean</span> <span class="na">id=</span><span class="s">"renderer"</span> 
		  <span class="na">class=</span><span class="s">"com.ilkaygunel.springtutorials.setterconstructorinjection.MessageRendererImplementation"</span><span class="nt">&gt;</span>
		<span class="nt">&lt;property</span> <span class="na">name=</span><span class="s">"messageProvider"</span> <span class="na">ref=</span><span class="s">"provider"</span><span class="nt">&gt;&lt;/property&gt;</span>
	<span class="nt">&lt;/bean&gt;</span>
<span class="nt">&lt;/beans&gt;</span>
</code></pre></div></div>

<p>Peki bu Constructor Injection meselesini notasyonlara yıkmak istersek ne yapmamız gerekecek? Hemen inceleyelim.</p>

<p>Öncelikle MessageRendererImplementation ve MessageProviderImplementation sınıfını az önceki @Component’li ve @Autowired’lı 
haline geri getirelim. Akabinde MessageProviderImplementation sınıfını şu şekilde güncelleyelim:</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">package</span> <span class="n">com</span><span class="o">.</span><span class="na">ilkaygunel</span><span class="o">.</span><span class="na">springtutorials</span><span class="o">.</span><span class="na">setterconstructorinjection</span><span class="o">;</span>

<span class="kn">import</span> <span class="nn">org.springframework.beans.factory.annotation.Autowired</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.beans.factory.annotation.Value</span><span class="o">;</span>
<span class="kn">import</span> <span class="nn">org.springframework.stereotype.Component</span><span class="o">;</span>

<span class="nd">@Component</span>
<span class="kd">public</span> <span class="kd">class</span> <span class="nc">MessageProviderImplementation</span> <span class="kd">implements</span> <span class="n">MessageProvider</span><span class="o">{</span>
	<span class="kd">private</span> <span class="n">String</span> <span class="n">message</span><span class="o">;</span>
	
	<span class="nd">@Autowired</span>
	<span class="kd">public</span>  <span class="nf">MessageProviderImplementation</span><span class="o">(</span><span class="nd">@Value</span><span class="o">(</span><span class="s">"Constructor'a Yollanan Mesaj!"</span><span class="o">)</span> <span class="n">String</span> <span class="n">message</span><span class="o">)</span> <span class="o">{</span>
		<span class="k">this</span><span class="o">.</span><span class="na">message</span> <span class="o">=</span> <span class="n">message</span><span class="o">;</span>
	<span class="o">}</span>

	<span class="nd">@Override</span>
	<span class="kd">public</span> <span class="n">String</span> <span class="nf">getMessage</span><span class="o">()</span> <span class="o">{</span>
		<span class="k">return</span> <span class="n">message</span><span class="o">;</span>
	<span class="o">}</span>
<span class="o">}</span>
</code></pre></div></div>

<p>Dikkat edeceğimiz gibi MessageProviderImplementation sınıfın yapılandırıcısı @Autowired notasyonu ile işaretli. Yani Spring DI
çalıştığından bu sınıftaki message nesnesi yapılandırıcıdaki parametreyi geçirecek. Uygulamayı çalıştırırken de 
app-context-annotation.xml yüklememiz durumunda başarılı bir şekilde çalışacak.</p>

<p>İstenmesi durumunda yine @Autowired kullanılarak constructor’a veri XML’den geçirilebilir. Bunun için de XML içinde yine c tag’i
tanımlı olmak üzere bir bean tanımlanması gerekir: 
<strong><em><bean id="message" class="java.lang.String" c:_0="Constructor'a Yollanan Mesaj!"></bean></em></strong> kodunu XML’e ekleyip MessageProviderImplementation
sınıfının yapılandırıcısını şöyle değiştirelim:</p>

<div class="language-java highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nd">@Autowired</span>
<span class="kd">public</span>  <span class="nf">MessageProviderImplementation</span><span class="o">(</span><span class="n">String</span> <span class="n">message</span><span class="o">)</span> <span class="o">{</span>
	<span class="k">this</span><span class="o">.</span><span class="na">message</span> <span class="o">=</span> <span class="n">message</span><span class="o">;</span>
<span class="o">}</span>
</code></pre></div></div>

<p>Uygulamayı çalıştırdığımızda Spring DI XML’den bu String’i constructor’a geçirecek.</p>

<p>Bu örnek için projede ne kadar yapılandırıcısı @Autowired ile işaretlenmiş ve String parametre alan sınıf varsa hepsi 
<strong><em>Constructor’a Yollanan Mesaj!</em></strong> String’ini yüklenirler. Örneğimiz basitize olması açısından bu şekilde oldu. Gerçek
projelerimizde olay tabii ki daha uniqe olacaktır.</p>

<p>Bu yazıda anlatacaklarım bu kadar arkadaşlar. Gelecek yazıda görüşene kadar sağlıcakla kalın.</p>

<p style="text-align: center">Selam ve Sevgilerimle</p>

    </div>

    
<hr>

<aside id="comments" class="disqus">
  <div class="container">
    <h3><i class="icon icon-comments-o"></i> Comments</h3>
    <div id="disqus_thread"></div>
<script>

/**
 *  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
 *  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables */
/*
var disqus_config = function () {
    this.page.url = PAGE_URL;  // Replace PAGE_URL with your page's canonical URL variable
    this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
};
*/
(function() { // DON'T EDIT BELOW THIS LINE
    var d = document, s = d.createElement('script');
    s.src = '//ilkaygunel-com.disqus.com/embed.js';
    s.setAttribute('data-timestamp', +new Date());
    (d.head || d.body).appendChild(s);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>                                    
  </div>
</aside>

  </div>

</article>

      </div>

      <footer class="site-footer">
  <div class="container">
    <ul class="social">
  <li><a href="https://www.instagram.com/ilkay_gunel/" target="_blank"><img src="/images/instagram.png" style="width: 24px;height: 24px;"></img></a></li>
  <li><a href="https://www.facebook.com/ilkay.gunel" target="_blank"><img src="/images/facebook.png" style="width: 24px;height: 24px;"></img></a></li>
  <li><a href="https://www.youtube.com/c/ilkaygunel" target="_blank"><img src="/images/youtube.png" style="width: 24px;height: 24px;"></img></a></li>
  <li><a href="http://twitter.com/ilkaygunel" target="_blank"><img src="/images/twitter.png" style="width: 24px;height: 24px;"></img></a></li>
  <li><a href="http://github.com/ilkgunel" target="_blank"><img src="/images/github.jpg" style="width: 24px;height: 24px;"></img></a></li>
  <li><a href="http://linkedin.com/in/ilkaygunel" target="_blank"><img src="/images/linkedin.png" style="width: 24px;height: 24px;"></img></a></li>
  
</ul>
    <p class="txt-medium-gray">
      <small>&copy;2018 All rights reserved. Made with <a href="http://jekyllrb.com/" target="_blank">Jekyll</a> and ♥</small>
    </p>
  </div>
</footer>


      <a href="http://github.com/ilkgunel/ilkgunel.github.io" target="_blank" class="github-corner"><svg width="80" height="80" viewBox="0 0 250 250" style="fill:#337ab7; color:#fff; position: absolute; top: 0; border: 0; right: 0;"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a>

      <script src="//code.jquery.com/jquery-1.11.3.min.js"></script>
      <script>
      $(document).ready(function() {
        $('.sliding-panel-button,.sliding-panel-fade-screen,.sliding-panel-close').on('click touchstart',function (e) {
          $('.sliding-panel-content,.sliding-panel-fade-screen').toggleClass('is-visible');
          e.preventDefault();
        });
      });
      </script>
    </main>
  </body>
</html>
