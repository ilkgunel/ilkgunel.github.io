<!DOCTYPE html>
<html>
    <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>Java Ve Heap&Stack Memory</title>
    <meta name="description" content="Merhabalar arkadaşlar. Bu yazıda Java ve Heap&amp;Stack Memory ilişkisini anlatmaya çalışacağım.">

    <link rel="stylesheet" href="/css/main.css">
    <link rel="canonical" href="http://ilkaygunel.com/blog/2016/java-ve-heap&stack-memory/">
    <link rel="alternate" type="application/rss+xml" title="İlkay Günel - Blog" href="http://ilkaygunel.com/feed.xml" />
      <!-- Begin Jekyll SEO tag v2.0.0 -->
<title>Java Ve Heap&amp;Stack Memory - İlkay Günel - Blog</title>
<meta property="og:title" content="Java Ve Heap&amp;Stack Memory" />
<meta name="description" content="Java Ve Heap&amp;Stack Memory" />
<meta property="og:description" content="Java Ve Heap&amp;Stack Memory" />
<link rel="canonical" href="http://ilkaygunel.com/blog/2016/java-ve-heap&stack-memory/" />
<meta property="og:url" content="http://ilkaygunel.com/blog/2016/java-ve-heap&stack-memory/" />
<meta property="og:site_name" content="İlkay Günel - Blog" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2016-09-04T19:38:20+03:00" />
<script type="application/ld+json">
  {
    "@context": "http://schema.org",
    "@type": "BlogPosting",
    "headline": "Java Ve Heap&amp;Stack Memory",
    "datePublished": "2016-09-04T19:38:20+03:00",
    "description": "Java Ve Heap&amp;Stack Memory",
    "url": "http://ilkaygunel.com/blog/2016/java-ve-heap&stack-memory/"
  }
</script>
<!-- End Jekyll SEO tag -->
  </head>

  <body>
    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-76541903-2', 'auto');
  ga('send', 'pageview');
</script>

    <main>
      <header class="site-header">
  <div class="container">
    <h1><a href="/">Ana Sayfa</a></h1>

    <button type="button" class="sliding-panel-button">
      <span></span>
      <span></span>
      <span></span>
    </button>

    <nav class="navbar sliding-panel-content">
      <ul>
        
          <li><a href="/blog/2016/jsf-tutorials-list" title="JSF">JSF</a></li>
        
          <li><a href="/blog/2016/resteasy/" title="Resteasy">Resteasy</a></li>
        
          <li><a href="/blog/2016/mongodb/" title="MongoDB&Java">MongoDB&Java</a></li>
        
          <li><a href="/about" title="Hakkımda">Hakkımda</a></li>
        
          <li><a href="/blog/2016/eclipse-notes" title="Eclipse">Eclipse</a></li>
        
          <li><a href="/blog/2016/formula1/" title="Formula 1">Formula 1</a></li>
        
          <li><a href="/blog" title="Blog">Blog</a></li>
        
        <li><a href="/feed.xml" target="_blank"><i class="icon icon-feed"></i></a></li>
      </ul>
    </nav>
  </div>
</header>

<div class="sliding-panel-fade-screen"></div>


      <div class="container">
        <article role="article" class="post">

  <div class="card">
    <header class="post-header">
      <h1 class="post-title">Java Ve Heap&Stack Memory</h1>
      <p class="post-meta">Sep 4, 2016</p>
    </header>

    <div class="post-content">
      <head>
<script>
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
ga('create', 'UA-76541903-2', 'auto');
ga('send', 'pageview');
</script>
</head>
<p>Merhabalar arkadaşlar. Bu yazıda Java ve Heap&amp;Stack Memory ilişkisini anlatmaya çalışacağım.</p>

<h3 id="java-heap-memory">Java Heap Memory</h3>
<p>Heap memory Java çalışma ortamı (Java Runtime) tarafından objelere ve JRE sınıflarına yer vermek için kullanılır.Biz bir nesne oluşturduğumuzda bu nesne her zaman heap memory içinde oluşturulur. Bizim <strong><em>Çöp Toplayıcı</em></strong>
adını verdiğimiz <strong><em>Garbage Collector</em></strong> herhangi bir referansa sahip olmayan nesneleri temizlemek, yer açmak için heap memory üzerinde çalışır. Heap space’de oluşturulmuş tüm objeler global ulaşım ve uygulamanın tüm yerlerinden referans edilme hakkına sahiptir.</p>

<h3 id="java-stack-memory">Java Stack Memory</h3>
<p>Stack memory bir Thread’in çalıştırılması için kullanılır. Method için özelleşmiş değerleri tutar ve bu değerler kısa ömürlüdür, heap memory’deki nesnelere referansta bulunurlar. Stack memory her daim LIFO (Last in First out) mantığında çalışır.
Bir metot tetiklendiğinde o metodun local primitive ve referans değişkenleri için stack memory içinde o metot için bir blok oluşturulur. Metot bittiğinde o blok yeni bir metot için kullanılabilir hale getiriliyor.
Stack memory’nin hafıza boyutu heap memory’ninkinden çok daha azdır.</p>

<p>Serkan Sakınmaz’ın bloğunda şöyle güzel bir örnek vardı, ben de bu yazıda onu aldım.</p>

<p>[<img src="/images/stack_heap.jpg" style="width: 958px; height= 400px;" />]</p>

<p>Bu resimde göreceğimiz üzere Java sınıfı içinde instance ve class variable olarak tanımlanan değişkenler heap memory’de tutulur. Metotlar ve onlara özgü değişkenler de stack’de tutulur. Değişkenlerin oluşturulduğu sınıflar da heap’de tutulur ve oradan çağırılır. method() metodu içinde <strong><em>cities</em></strong> stack’de tutulurken onun oluşturulmasını
sağlayan ArrayList sınıfı heap üzerinden çağırılır.</p>

<h3 id="heap-ve-stack-memory-arasndaki-farklar">Heap Ve Stack Memory Arasındaki Farklar</h3>
<ol>
  <li>Heap memory uygulamanın tamamı tarafından kullanılabiliyorken stack memory sadece Thread çalıştırılması için kullanılır.</li>
  <li>Bir nesne oluşturulduğu zaman heap memory de saklanır ve stack memory ona ait bir referans tutulur. Stack memory sadece local primitive değerleri ve heap memory’deki nesnelere referansta bulunan değişkenleri tutar.</li>
</ol>

<p>[<img src="/images/heap-stack.gif" style="width: 958px; height= 400px;" />]</p>

<ol>
  <li>Heap memory’deki nesneler tüm uygulama tarafından ulaşılabilir durumda iken stack memory’deki nesneler başka Thread’ler tarafından ulaşılamaz durumdadır.</li>
  <li>Stack memory’deki bellek yönetimi basitken ve LIFO mantığına dayanırken heap memory’deki belek yönetimi çok daha karışıktır. Buna sebep olan şey Heap Memory’nin çok daha büyük olmasıdır. Heap memory’nin yönetimi için Garbage Collection algoritmaları kullanılır.</li>
  <li>Stack memory kısa ömürlü olurken heap memory uygulamanın başından sonunda kadar tutulur.</li>
  <li>-Xms ve -Xmx JVM komutları ile heap memory’nin boyutları belirlenebilir. -Xss ile de Stack memory.</li>
  <li>Stack memory dolarsa <strong><em>java.lang.StackOverFlowError</em></strong> hatası, heap memory dolarsa <strong><em>java.lang.OutOfMemoryError: Java Heap Space</em></strong> hatası alırız.</li>
  <li>Stack memory hem boyut olarak hem de bellek yönetimi olarak daha basit olduğundan heap memory’e göre daha hızlı hareket eder.</li>
</ol>

<p>Heap ile Stack memory hakkında elimden geldiğince bilgi vermeye çalıştım. Kod yazarken bu unsurlara dikkat etmeliyiz arkadaşlar. Çünkü performans ve bellek yönetimi en mühim noktalardır.
Örneğin gerek olmadığı halde gidip heap’de sürekli kalacak şekilde nesne tanımlaması yaparsak, referansa sahip olursa bu nesne uygulama hayatta kaldığı o bellek bölgesini işgal edecek. Garbage collector da onu silemeyecek.
Size izlemeniz için iki video linki de paylaşıyorum:
<a href="https://www.youtube.com/watch?v=jzJjMefsFKE">https://www.youtube.com/watch?v=jzJjMefsFKE</a>
<a href="https://www.youtube.com/watch?v=_y7k_0edvuY">https://www.youtube.com/watch?v=_y7k_0edvuY</a></p>

<p>Alican Akkuş bu noktada yazıya bir ekleme yaptı. Kendisine teşekkür ederim.
<strong><em>Local object.
Local object diye birsey yoktur, heap’de var olan bir objeye işaret eden local degisken vardır. Her obje heap’de tutulur ve buna referans olan degiskenin nerede oldugu onemsizdir, ister local olsun ister olmasın.</em></strong></p>

<p>Emrah Pekesen de şöyle bir ekleme yaptı, kendisine teşekkür ederim:
<strong><em>Method ismindeki “method” un işaretçisi de (function pointer) stack te durur.</em></strong></p>

<p>Başka bir yazıda görüşene kadar sağlıcakla kalın arkadaşlar.
(2. maddedeki resmin kaynağı : <a href="http://javarevisited.blogspot.com.tr/2013/01/difference-between-stack-and-heap-java.html">http://javarevisited.blogspot.com.tr/2013/01/difference-between-stack-and-heap-java.html</a> )</p>
<div id="disqus_thread"></div>
<script>
/**
* RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
* LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables
*/
/*
var disqus_config = function () {
this.page.url = PAGE_URL; // Replace PAGE_URL with your page's canonical URL variable
this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
};
*/
(function() { // DON'T EDIT BELOW THIS LINE
var d = document, s = d.createElement('script');

s.src = '//ilkgunelgithubio.disqus.com/embed.js';

s.setAttribute('data-timestamp', +new Date());
(d.head || d.body).appendChild(s);
})();
</script>

<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>

<script id="dsq-count-scr" src="//ilkgunelgithubio.disqus.com/count.js" async=""></script>

<!-- <a href="http://example.com/bar.html#disqus_thread">Link</a> -->

    </div>

    
<hr>

<aside id="comments" class="disqus">
  <div class="container">
    <h3><i class="icon icon-comments-o"></i> Comments</h3>
    <div id="disqus_thread"></div>
<script>

/**
 *  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
 *  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables */
/*
var disqus_config = function () {
    this.page.url = PAGE_URL;  // Replace PAGE_URL with your page's canonical URL variable
    this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
};
*/
(function() { // DON'T EDIT BELOW THIS LINE
    var d = document, s = d.createElement('script');
    s.src = '//ilkaygunel-com.disqus.com/embed.js';
    s.setAttribute('data-timestamp', +new Date());
    (d.head || d.body).appendChild(s);
})();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>                                    
  </div>
</aside>

  </div>

</article>

      </div>

      <footer class="site-footer">
  <div class="container">
    <ul class="social">
  <li><a href="http://github.com/ilkgunel" target="_blank"><i class="icon icon-github"></i></a></li>
  <li><a href="http://twitter.com/ilkgunel" target="_blank"><i class="icon icon-twitter"></i></a></li>
  <li><a href="https://www.facebook.com/ilkay.gunel" target="_blank"><i class="icon icon-facebook"></i></a></li>
  <li><a href="http://linkedin.com/in/ilkaygunel" target="_blank"><i class="icon icon-linkedin"></i></a></li>
  <li><a href="https://www.instagram.com/ilkgunel/" target="_blank"><i class="fa fa-instagram" aria-hidden="true"></i></a></li>
</ul>
    <p class="txt-medium-gray">
      <small>&copy;2016 All rights reserved. Made with <a href="http://jekyllrb.com/" target="_blank">Jekyll</a> and ♥</small>
    </p>
  </div>
</footer>


      <a href="http://github.com/ilkgune/ilkgunel.github.io" target="_blank" class="github-corner"><svg width="80" height="80" viewBox="0 0 250 250" style="fill:#337ab7; color:#fff; position: absolute; top: 0; border: 0; right: 0;"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a>

      <script src="//code.jquery.com/jquery-1.11.3.min.js"></script>
      <script>
      $(document).ready(function() {
        $('.sliding-panel-button,.sliding-panel-fade-screen,.sliding-panel-close').on('click touchstart',function (e) {
          $('.sliding-panel-content,.sliding-panel-fade-screen').toggleClass('is-visible');
          e.preventDefault();
        });
      });
      </script>
    </main>
  </body>
</html>
